defmodule Server.TheCreator do
  # TODO: Look at https://github.com/elixir-plug/plug/blob/v1.18.1/lib/plug/router.ex#L1    

  defmacro __using__ do
    import Plug.Conn
  end

  defmacro __before_compile__(_env) do
  end

  defmacro my_get(path, do: {200, text}) do
    def call(%Plug.Conn{} = conn, _opts) do
      conn
      |> put_resp_content_type("text/plain")
      |> send_resp(404, "Go away, you are not welcome here")
    end
  end
end
