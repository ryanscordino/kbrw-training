{"version":3,"file":"chunk/client.7061574ccd96cac40d42.js","mappings":"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","sources":["webpack://web/./components/app.js","webpack://web/./index.html"],"sourcesContent":["require(\"!!file-loader?name=[name].[ext]!../index.html\");\n/* required library for our React app */\nvar ReactDOM = require(\"react-dom\");\nvar React = require(\"react\");\nvar createReactClass = require(\"create-react-class\");\n\n/* required css for our application */\nrequire(\"../webflow/styles.css\");\nrequire(\"../webflow/modal-loading.css\");\n\nvar Qs = require(\"qs\");\nvar Cookie = require(\"cookie\");\n\nvar localhost = require(\"reaxt/config\").localhost;\nvar XMLHttpRequest = require(\"xhr2\");\nvar HTTP = new (function () {\n  this.get = (url) => this.req(\"GET\", url);\n  this.delete = (url) => this.req(\"DELETE\", url);\n  this.post = (url, data) => this.req(\"POST\", url, data);\n  this.put = (url, data) => this.req(\"PUT\", url, data);\n\n  this.req = (method, url, data) =>\n    new Promise((resolve, reject) => {\n      var req = new XMLHttpRequest();\n      url = typeof window !== \"undefined\" ? url : localhost + url;\n      req.open(method, url);\n      req.responseType = \"text\";\n      req.setRequestHeader(\"accept\", \"application/json,*/*;0.8\");\n      req.setRequestHeader(\"content-type\", \"application/json\");\n      req.onload = () => {\n        if (req.status >= 200 && req.status < 300) {\n          resolve(req.responseText && JSON.parse(req.responseText));\n        } else {\n          reject({ http_code: req.status });\n        }\n      };\n      req.onerror = (err) => {\n        reject({ http_code: req.status });\n      };\n      req.send(data && JSON.stringify(data));\n    });\n})();\n\n// Helper function to change page\nvar GoTo = (route, params, query) => {\n  console.log(\"GoTo\");\n  var qs = Qs.stringify(query);\n  var url = routes[route].path(params) + (qs == \"\" ? \"\" : \"?\" + qs);\n  console.log(\"Changing URL to\", url);\n  history.pushState({}, \"\", url);\n  onPathChange();\n};\n\n/**\n * `remoteProps` are list of functions that map the props from `BrowserState.handlerPath` indicated [here](https://github.com/vuthanhtung2412/formation-kbrw/blob/809acd75e0c1b3a2e0b1c66a9d7891ce9a36fe72/realisation/rest/web/app.js#L208-L211)\n * to `{url : string, prop: string}` which can be used to fetch data\n * with [`HTTP`](https://github.com/vuthanhtung2412/formation-kbrw/blob/main/realisation/rest/web/app.js#L18-L18)\n */\nvar remoteProps = {\n  // Example of how to implement auth mechanism\n  // user: (props)=>{\n  //   return {\n  //     url: \"/api/me\",\n  //     prop: \"user\"\n  //   }\n  // },\n\n  // props = {qs: QueryString, ...pathParams: Record<string,string>}\n  orders: (props) => {\n    // Example of how to implement auth mechanism\n    // if(!props.user)\n    //   return\n\n    // qs stands for query string\n    var qs = {\n      ...props.qs,\n      // user_id: props.user.value.id\n    };\n\n    // Make sure search query is included\n    if (props.qs.q) {\n      qs.q = props.qs.q;\n    }\n\n    var query = Qs.stringify(qs);\n    return {\n      url: \"/api/orders\" + (query == \"\" ? \"\" : \"?\" + query),\n      prop: \"orders\",\n    };\n  },\n  order: (props) => {\n    return {\n      url: \"/api/order/\" + props.order_id,\n      prop: \"order\",\n    };\n  },\n};\n\nvar routes = {\n  orders: {\n    path: (params) => {\n      return \"/\";\n    },\n    match: (path, qs) => {\n      return path == \"/\" && { handlerPath: [Layout, Header, Orders] }; // Note that we use the \"&&\" expression to simulate a IF statement\n    },\n  },\n  order: {\n    path: (params) => {\n      return \"/order/\" + params;\n    },\n    match: (path, qs) => {\n      var r = new RegExp(\"/order/([^/]*)$\").exec(path);\n      return r && { handlerPath: [Layout, Header, Order], order_id: r[1] }; // Note that we use the \"&&\" expression to simulate a IF statement\n    },\n  },\n};\n\nvar Child = createReactClass({\n  render() {\n    var [ChildHandler, ...rest] = this.props.handlerPath;\n    return <ChildHandler {...this.props} handlerPath={rest} />;\n  },\n});\n\nvar cn = function () {\n  var args = arguments,\n    classes = {};\n  for (var i in args) {\n    var arg = args[i];\n    if (!arg) continue;\n    if (\"string\" === typeof arg || \"number\" === typeof arg) {\n      arg\n        .split(\" \")\n        .filter((c) => c != \"\")\n        .map((c) => {\n          classes[c] = true;\n        });\n    } else if (\"object\" === typeof arg) {\n      for (var key in arg) classes[key] = arg[key];\n    }\n  }\n  return Object.keys(classes)\n    .map((k) => (classes[k] && k) || \"\")\n    .join(\" \");\n};\n\nvar Layout = createReactClass({\n  getInitialState: function () {\n    return {\n      modal: null,\n      loader: null,\n    };\n  },\n  modal(spec) {\n    this.setState({\n      modal: {\n        ...spec,\n        callback: (res) => {\n          this.setState({ modal: null }, () => {\n            if (spec.callback) spec.callback(res);\n          });\n        },\n      },\n    });\n  },\n  loader() {\n    const callback = () => {\n      this.setState({ loader: null });\n    };\n    this.setState({\n      loader: {\n        callback,\n      },\n    });\n    return callback;\n  },\n  render() {\n    console.log(\"Rendering Layout\");\n    var modal_component = {\n      delete: (props) => <DeleteModal {...props} />,\n    }[this.state.modal && this.state.modal.type];\n    modal_component = modal_component && modal_component(this.state.modal);\n    var props = {\n      ...this.props,\n      modal: this.modal,\n      loader: this.loader,\n    };\n    return (\n      <JSXZ in=\"orders\" sel=\".root\">\n        <Z sel=\".layout-container\">\n          <Child {...props} />\n          {/* <this.props.Child {...this.props} /> */}\n          <JSXZ\n            in=\"modal\"\n            sel=\".modal-wrapper\"\n            className={cn(classNameZ, { hidden: !modal_component })}\n          >\n            {modal_component}\n          </JSXZ>\n          <JSXZ\n            in=\"loader\"\n            sel=\".loader-container\"\n            className={cn(classNameZ, { hidden: !this.state.loader })}\n          >\n            <h1>LOADING...</h1>\n          </JSXZ>\n        </Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar Header = createReactClass({\n  getInitialState() {\n    return {\n      searchQuery: this.props.qs.q || \"\",\n    };\n  },\n  handleSearchSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const searchQuery = formData.get(\"search\") || \"*:*\";\n\n    GoTo(\"orders\", \"\", {\n      ...this.props.qs,\n      q: searchQuery,\n      page: 0, // Reset to first page when searching\n    });\n  },\n  render() {\n    console.log(\"Start header\");\n    return (\n      <JSXZ in=\"orders\" sel=\".header-container\">\n        <Z sel=\".heading-div-with-search\">\n          <ChildrenZ />\n          <JSXZ in=\"orders\" sel=\".search-div\">\n            <Z sel=\".search\" onSubmit={(e) => this.handleSearchSubmit(e)}></Z>\n          </JSXZ>\n        </Z>\n        <Z sel=\".body-div\">\n          <Child {...this.props} />\n        </Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar DeleteModal = createReactClass({\n  render() {\n    return (\n      <JSXZ in=\"modal\" sel=\".modal-content\">\n        <p>{this.props.title}</p>\n        <p>{this.props.message}</p>\n        <button\n          onClick={() => {\n            this.props.callback(true);\n          }}\n        >\n          Confirm\n        </button>\n        <button\n          onClick={() => {\n            this.props.callback(false);\n          }}\n        >\n          Cancel\n        </button>\n      </JSXZ>\n    );\n  },\n});\n\nvar Orders = createReactClass({\n  // `statics`` lets you define static methods, field that belong to the component itself, not its instances.\n  statics: {\n    remoteProps: [remoteProps.orders],\n  },\n  render() {\n    console.log(\"Start orders\");\n    console.dir(this.props, { depth: null });\n    console.dir(this.props.orders.value, { depth: null });\n    return (\n      <JSXZ in=\"orders\" sel=\".body-div\">\n        <Z sel=\".table\">\n          <JSXZ in=\"orders\" sel=\".table-header\">\n            <ChildrenZ />\n          </JSXZ>\n          <JSXZ in=\"orders\" sel=\".table-body\">\n            {this.props.orders.value.orders.value.map((order) => {\n              const custom = order.custom;\n              const billing_address = custom.billing_address;\n              const payment = custom.magento.payment;\n              return (\n                <JSXZ in=\"orders\" sel=\".table-row\" key={order.id}>\n                  <Z sel=\".div-body-table .id\">{order.remoteid}</Z>\n                  <Z sel=\".div-body-table .name\">{custom.customer.full_name}</Z>\n                  <Z sel=\".div-body-table .address\">\n                    {`${billing_address.street[0]}, \n                    ${billing_address.city}, \n                    ${billing_address.postcode}, \n                    ${billing_address.country_id}`}\n                  </Z>\n                  <Z sel=\".div-body-table .quantity\">{custom.items.length}</Z>\n                  <Z\n                    in=\"orders\"\n                    sel=\".div-body-table .button-detail\"\n                    onClick={() => {\n                      GoTo(\"order\", order.id);\n                    }}\n                  >\n                    ÔÅ°\n                  </Z>\n                  <Z in=\"orders\" sel=\".div-body-table .button-pay\"></Z>\n                  <Z\n                    in=\"orders\"\n                    tag=\"button\"\n                    sel=\".div-block-6 .tag-status\"\n                    onClick={() => {\n                      console.log(`Processing payment for order ${order.id}`);\n                      HTTP.put(`/api/order/${order.id}/payment`)\n                        .then((response) => {\n                          console.log(\"Payment response:\", response);\n                          // Add a small delay to ensure database update is complete\n                          setTimeout(() => {\n                            console.log(\"Reloading orders after payment...\");\n                            reload(\"orders\");\n                          }, 500);\n                        })\n                        .catch((error) => {\n                          console.error(\"Payment error:\", error);\n                          alert(`Payment failed: ${error.http_code}`);\n                        });\n                    }}\n                  >\n                    {order.status.state ? `${order.status.state} =>` : \"error\"}\n                  </Z>\n                  <Z in=\"orders\" sel=\".div-block-6 .tag-delivery\">\n                    {payment.additional_information[1]}\n                  </Z>\n                  <Z\n                    in=\"orders\"\n                    sel=\".button-delete\"\n                    onClick={() => {\n                      console.log(\"Delete order\", order.id);\n                      this.props.modal({\n                        type: \"delete\",\n                        title: \"Order deletion\",\n                        message: `Are you sure you want to delete order ${order.id} ?`,\n                        callback: (value) => {\n                          if (value) {\n                            // Start the loader and HTTP request immediately\n                            const loader_callback = this.props.loader();\n                            HTTP.delete(`/api/order/${order.id}`)\n                              .then((_) => {\n                                reload(\"orders\");\n                                console.log(`Order ${order.id} deleted`);\n                              })\n                              .catch((err) => {\n                                alert(\"Deletion fails\");\n                              })\n                              .finally(() => {\n                                loader_callback();\n                              });\n                            return;\n                          }\n                          console.log(`Order ${order.id} deletion cancelled`);\n                        },\n                      });\n                    }}\n                  >\n                    delete\n                  </Z>\n                </JSXZ>\n              );\n            })}\n          </JSXZ>\n        </Z>\n        <ChildrenZ />\n        <Z\n          sel=\".back\"\n          onClick={() => {\n            console.log(\"Go back to orders\");\n            if (this.props.qs.page && Number(this.props.qs.page)) {\n              GoTo(\"orders\", \"\", {\n                ...this.props.qs,\n                page: Number(this.props.qs.page) - 1,\n              });\n            } else {\n              console.log(\"No previous page\");\n            }\n          }}\n        >\n          <ChildrenZ />\n        </Z>\n        <Z sel=\".curr\">{Number(this.props.qs.page || \"0\")}</Z>\n        <Z\n          sel=\".forward\"\n          onClick={() => {\n            console.log(\"next page\");\n            GoTo(\"orders\", \"\", {\n              ...this.props.qs,\n              page: Number(this.props.qs.page || \"0\") + 1,\n            });\n          }}\n        >\n          <ChildrenZ />\n        </Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar Order = createReactClass({\n  statics: {\n    remoteProps: [remoteProps.order],\n  },\n  render() {\n    console.log(\"Order props\");\n    const order = this.props.order.value;\n    console.dir(order, { depth: null });\n    const custom = order.custom;\n    return (\n      <JSXZ in=\"order-detail\" sel=\".body-div\">\n        <Z sel=\".order-id\">{order.remoteid}</Z>\n        <Z sel=\".name\">{order.custom.customer.full_name}</Z>\n        <Z sel=\".address\">\n          {`${custom.billing_address.street[0]}, \n          ${custom.billing_address.city}, \n          ${custom.billing_address.postcode}, \n          ${custom.billing_address.country_id}`}\n        </Z>\n        <Z sel=\".number\">{order.remoteid}</Z>\n        <Z sel=\".table\">\n          <JSXZ in=\"order-detail\" sel=\".order-row\"></JSXZ>\n          {custom.items.map((item) => {\n            return (\n              <JSXZ in=\"order-detail\" sel=\".order-row\" key={item.item_id}>\n                <Z sel=\".product-name\">{item.product_title}</Z>\n                <Z sel=\".product-quantity\">{item.quantity_to_fetch}</Z>\n                <Z sel=\".product-price\">{item.price}</Z>\n                <Z sel=\".product-total\">\n                  {item.price * item.quantity_to_fetch}\n                </Z>\n              </JSXZ>\n            );\n          })}\n        </Z>\n        <Z\n          sel=\".button-back\"\n          onClick={() => {\n            console.log(\"Go back to orders\");\n            history.back();\n          }}\n        ></Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar ErrorPage = createReactClass({\n  render() {\n    return (\n      <h1>\n        {this.props.message} {this.props.error}\n      </h1>\n    );\n  },\n});\n\nvar Link = createReactClass({\n  statics: {\n    renderFunc: null, //render function to use (differently set depending if we are server sided or client sided)\n    GoTo(route, params, query) {\n      // function used to change the path of our browser\n      var path = routes[route].path(params);\n      var qs = Qs.stringify(query);\n      var url = path + (qs == \"\" ? \"\" : \"?\" + qs);\n      history.pushState({}, \"\", url);\n      Link.onPathChange();\n    },\n    onPathChange() {\n      //Updated onPathChange\n      var path = location.pathname;\n      var qs = Qs.parse(location.search.slice(1));\n      var cookies = Cookie.parse(document.cookie);\n      inferPropsChange(path, qs, cookies).then(\n        //inferPropsChange download the new props if the url query changed as done previously\n        () => {\n          Link.renderFunc(<Child {...browserState} />); //if we are on server side we render\n        },\n        ({ http_code }) => {\n          Link.renderFunc(\n            <ErrorPage message={\"Not Found\"} code={http_code} />,\n            http_code\n          ); //idem\n        }\n      );\n    },\n    LinkTo: (route, params, query) => {\n      var qs = Qs.stringify(query);\n      return routes[route].path(params) + (qs == \"\" ? \"\" : \"?\" + qs);\n    },\n  },\n  onClick(ev) {\n    ev.preventDefault();\n    Link.GoTo(this.props.to, this.props.params, this.props.query);\n  },\n  render() {\n    //render a <Link> this way transform link into href path which allows on browser without javascript to work perfectly on the website\n    return (\n      <a\n        href={Link.LinkTo(this.props.to, this.props.params, this.props.query)}\n        onClick={this.onClick}\n      >\n        {this.props.children}\n      </a>\n    );\n  },\n});\n\n/**\n * `browserState` gonna be passed as parameter in `addRemoteProps`\n * `addRemoteProps` modifies it to add the data from the API.\n * the result of the API will be stored in a key with value of `remoteProp.prop`\n * [ref](https://github.com/vuthanhtung2412/formation-kbrw/blob/809acd75e0c1b3a2e0b1c66a9d7891ce9a36fe72/realisation/rest/web/app.js#L80-L80)\n */\nfunction addRemoteProps(props) {\n  return new Promise((resolve, reject) => {\n    console.log(\"Adding remote props\");\n    var remoteProps = Array.prototype.concat.apply(\n      [],\n      props.handlerPath\n        // Orders.remoteProps = remoteProps.orders\n        .map((c) => c.remoteProps) // -> [[remoteProps.orders], null]\n        .filter((p) => p) // -> [[remoteProps.orders]]\n    );\n    // Eventually, this produce (({qs: QueryString, ...pathParams: Record<string,string>}) => {url: string, prop: string})[]\n\n    remoteProps = remoteProps\n      .map((spec_fun) => spec_fun(props)) // [{url: '/api/orders', prop: 'orders'}]\n      .filter((specs) => specs) // get rid of undefined from remoteProps that don't match their dependencies\n      .filter(\n        (specs) => !props[specs.prop] || props[specs.prop].url != specs.url\n      ); // get rid of remoteProps already resolved with the url\n\n    // If now new remotePorps to fetch, we resolve the promise with the current props\n    if (remoteProps.length == 0) return resolve(props);\n\n    const promise_mapper = (spec) => {\n      // we want to keep the url in the value resolved by the promise here : spec = {url: '/api/orders', value: ORDERS, prop: 'orders'}\n      return HTTP.get(spec.url).then((res) => {\n        spec.value = res;\n        return spec;\n      });\n    };\n\n    const reducer = (acc, spec) => {\n      // spec = {url: '/api/orders', value: ORDERS, prop: 'user'}\n      acc[spec.prop] = { url: spec.url, value: spec.value };\n      return acc;\n    };\n\n    const promise_array = remoteProps.map(promise_mapper);\n    return Promise.all(promise_array)\n      .then((xs) => xs.reduce(reducer, props), reject)\n      .then((p) => {\n        // recursively call remote props, because props computed from\n        // previous queries can give the missing data/props necessary\n        // to define another query\n        return addRemoteProps(p).then(resolve, reject);\n      }, reject);\n  });\n}\n\nvar browserState = {};\nfunction onPathChange() {\n  var path = location.pathname;\n  var qs = Qs.parse(location.search.slice(1));\n  console.log(\"query string\");\n  console.dir(qs, { depth: null });\n  var cookies = Cookie.parse(document.cookie);\n\n  browserState = {\n    ...browserState,\n    path: path,\n    qs: qs,\n    cookie: cookies,\n  };\n\n  var route;\n\n  // We try to match the requested path to one our our routes\n  for (var key in routes) {\n    routeProps = routes[key].match(path, qs);\n    if (routeProps) {\n      route = key;\n      console.log(\"routeProps\");\n      console.dir(routeProps, { depth: null });\n      break;\n    }\n  }\n\n  // We add the route name and the route Props to the global browserState\n  browserState = {\n    ...browserState,\n    ...routeProps,\n    route: route,\n  };\n  console.log(\"browserState:\");\n  console.dir(browserState, { depth: null });\n\n  // If the path in the URL doesn't match with any of our routes, we render an Error component (we will have to create it later)\n  if (!route)\n    return ReactDOM.render(\n      <ErrorPage message={\"Not Found\"} code={404} />,\n      document.getElementById(\"root\")\n    );\n\n  addRemoteProps(browserState).then(\n    (props) => {\n      browserState = props;\n      // Log our new browserState\n      console.log(browserState);\n      // Render our components using our remote data\n      ReactDOM.render(\n        <Child {...browserState} />,\n        document.getElementById(\"root\")\n      );\n    },\n    (res) => {\n      ReactDOM.render(\n        <ErrorPage message={\"Shit happened\"} code={res.http_code} />,\n        document.getElementById(\"root\")\n      );\n    }\n  );\n}\n\nfunction inferPropsChange(path, query, cookies) {\n  // the second part of the onPathChange function have been moved here\n  browserState = {\n    ...browserState,\n    path: path,\n    qs: query,\n    Link: Link,\n    Child: Child,\n  };\n\n  var route, routeProps;\n  for (var key in routes) {\n    routeProps = routes[key].match(path, query);\n    if (routeProps) {\n      route = key;\n      break;\n    }\n  }\n\n  if (!route) {\n    return new Promise((res, reject) => reject({ http_code: 404 }));\n  }\n  browserState = {\n    ...browserState,\n    ...routeProps,\n    route: route,\n  };\n\n  return addRemoteProps(browserState).then((props) => {\n    browserState = props;\n  });\n}\n\nfunction reload(remoteProp) {\n  console.log(`Reload remote prop ${remoteProp}`);\n  delete browserState[remoteProp];\n  addRemoteProps(browserState).then(\n    (props) => {\n      browserState = props;\n      // Log our new browserState\n      console.log(browserState);\n      // Render our components using our remote data\n      ReactDOM.render(\n        <Child {...browserState} />,\n        document.getElementById(\"root\")\n      );\n    },\n    (res) => {\n      ReactDOM.render(\n        <ErrorPage message={\"Something happened\"} code={res.http_code} />,\n        document.getElementById(\"root\")\n      );\n    }\n  );\n}\n\nexport default {\n  reaxt_server_render(params, render) {\n    inferPropsChange(params.path, params.query, params.cookies).then(\n      () => {\n        render(<Child {...browserState} />);\n      },\n      (err) => {\n        render(\n          <ErrorPage message={\"Not Found :\" + err.url} code={err.http_code} />,\n          err.http_code\n        );\n      }\n    );\n  },\n  reaxt_client_render(initialProps, render) {\n    browserState = initialProps;\n    Link.renderFunc = render;\n    window.addEventListener(\"popstate\", () => {\n      Link.onPathChange();\n    });\n    Link.onPathChange();\n  },\n};\n\n// window.addEventListener(\"popstate\", () => {\n//   onPathChange();\n// });\n","export default __webpack_public_path__ + \"index.html\";"],"names":["require","ReactDOM","React","createReactClass","Qs","Cookie","localhost","XMLHttpRequest","HTTP","this","get","url","req","delete","post","data","put","method","Promise","resolve","reject","window","open","responseType","setRequestHeader","onload","status","responseText","JSON","parse","http_code","onerror","err","send","stringify","GoTo","route","params","query","console","log","qs","routes","path","history","pushState","location","pathname","search","slice","dir","depth","cookies","document","cookie","key","browserState","routeProps","match","render","createElement","ErrorPage","message","code","getElementById","addRemoteProps","then","props","Child","res","onPathChange","remoteProps","orders","q","prop","order","order_id","handlerPath","Layout","Header","Orders","r","RegExp","exec","Order","displayName","ChildHandler","rest","_extends","cn","args","arguments","classes","i","arg","split","filter","c","map","Object","keys","k","join","getInitialState","modal","loader","spec","setState","callback","modal_component","DeleteModal","state","type","className","hidden","searchQuery","handleSearchSubmit","e","preventDefault","FormData","target","page","href","style","textDecoration","action","maxLength","name","placeholder","id","required","defaultValue","onSubmit","title","onClick","statics","value","custom","billing_address","payment","magento","remoteid","customer","full_name","street","city","postcode","country_id","items","length","in","response","setTimeout","reload","catch","error","alert","additional_information","loader_callback","_","finally","Number","item","item_id","product_title","quantity_to_fetch","price","back","Link","renderFunc","inferPropsChange","LinkTo","ev","to","children","Array","prototype","concat","apply","p","spec_fun","specs","reducer","acc","promise_array","all","xs","reduce","remoteProp","reaxt_server_render","reaxt_client_render","initialProps","addEventListener"],"sourceRoot":""}