{"version":3,"file":"chunk/client.ffb0e6e98673fb263696.js","mappings":"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","sources":["webpack://web/./components/app.js","webpack://web/./index.html"],"sourcesContent":["require(\"!!file-loader?name=[name].[ext]!../index.html\");\n/* required library for our React app */\nvar ReactDOM = require(\"react-dom\");\nvar React = require(\"react\");\nvar createReactClass = require(\"create-react-class\");\n\n/* required css for our application */\nrequire(\"../webflow/styles.css\");\nrequire(\"../webflow/modal-loading.css\");\n\nvar Qs = require(\"qs\");\nvar Cookie = require(\"cookie\");\n\nvar localhost = require(\"reaxt/config\").localhost;\nvar XMLHttpRequest = require(\"xhr2\");\nvar HTTP = new (function () {\n  this.get = (url) => this.req(\"GET\", url);\n  this.delete = (url) => this.req(\"DELETE\", url);\n  this.post = (url, data) => this.req(\"POST\", url, data);\n  this.put = (url, data) => this.req(\"PUT\", url, data);\n\n  this.req = (method, url, data) =>\n    new Promise((resolve, reject) => {\n      var req = new XMLHttpRequest();\n      url = typeof window !== \"undefined\" ? url : localhost + url;\n      req.open(method, url);\n      req.responseType = \"text\";\n      req.setRequestHeader(\"accept\", \"application/json,*/*;0.8\");\n      req.setRequestHeader(\"content-type\", \"application/json\");\n      req.onload = () => {\n        if (req.status >= 200 && req.status < 300) {\n          resolve(req.responseText && JSON.parse(req.responseText));\n        } else {\n          reject({ http_code: req.status });\n        }\n      };\n      req.onerror = (err) => {\n        reject({ http_code: req.status });\n      };\n      req.send(data && JSON.stringify(data));\n    });\n})();\n\n// Helper function to change page\nvar GoTo = (route, params, query) => {\n  console.log(\"GoTo\");\n  var qs = Qs.stringify(query);\n  var url = routes[route].path(params) + (qs == \"\" ? \"\" : \"?\" + qs);\n  console.log(\"Changing URL to\", url);\n  history.pushState({}, \"\", url);\n  onPathChange();\n};\n\n/**\n * `remoteProps` are list of functions that map the props from `BrowserState.handlerPath` indicated [here](https://github.com/vuthanhtung2412/formation-kbrw/blob/809acd75e0c1b3a2e0b1c66a9d7891ce9a36fe72/realisation/rest/web/app.js#L208-L211)\n * to `{url : string, prop: string}` which can be used to fetch data\n * with [`HTTP`](https://github.com/vuthanhtung2412/formation-kbrw/blob/main/realisation/rest/web/app.js#L18-L18)\n */\nvar remoteProps = {\n  // Example of how to implement auth mechanism\n  // user: (props)=>{\n  //   return {\n  //     url: \"/api/me\",\n  //     prop: \"user\"\n  //   }\n  // },\n\n  // props = {qs: QueryString, ...pathParams: Record<string,string>}\n  orders: (props) => {\n    // Example of how to implement auth mechanism\n    // if(!props.user)\n    //   return\n\n    // qs stands for query string\n    var qs = {\n      ...props.qs,\n      // user_id: props.user.value.id\n    };\n\n    // Make sure search query is included\n    if (props.qs.q) {\n      qs.q = props.qs.q;\n    }\n\n    var query = Qs.stringify(qs);\n    return {\n      url: \"/api/orders\" + (query == \"\" ? \"\" : \"?\" + query),\n      prop: \"orders\",\n    };\n  },\n  order: (props) => {\n    return {\n      url: \"/api/order/\" + props.order_id,\n      prop: \"order\",\n    };\n  },\n};\n\nvar routes = {\n  orders: {\n    path: (params) => {\n      return \"/\";\n    },\n    match: (path, qs) => {\n      return path == \"/\" && { handlerPath: [Layout, Header, Orders] }; // Note that we use the \"&&\" expression to simulate a IF statement\n    },\n  },\n  order: {\n    path: (params) => {\n      return \"/order/\" + params;\n    },\n    match: (path, qs) => {\n      var r = new RegExp(\"/order/([^/]*)$\").exec(path);\n      return r && { handlerPath: [Layout, Header, Order], order_id: r[1] }; // Note that we use the \"&&\" expression to simulate a IF statement\n    },\n  },\n};\n\nvar Child = createReactClass({\n  render() {\n    var [ChildHandler, ...rest] = this.props.handlerPath;\n    return <ChildHandler {...this.props} handlerPath={rest} />;\n  },\n});\n\nvar cn = function () {\n  var args = arguments,\n    classes = {};\n  for (var i in args) {\n    var arg = args[i];\n    if (!arg) continue;\n    if (\"string\" === typeof arg || \"number\" === typeof arg) {\n      arg\n        .split(\" \")\n        .filter((c) => c != \"\")\n        .map((c) => {\n          classes[c] = true;\n        });\n    } else if (\"object\" === typeof arg) {\n      for (var key in arg) classes[key] = arg[key];\n    }\n  }\n  return Object.keys(classes)\n    .map((k) => (classes[k] && k) || \"\")\n    .join(\" \");\n};\n\nvar Layout = createReactClass({\n  getInitialState: function () {\n    return {\n      modal: null,\n      loader: null,\n    };\n  },\n  modal(spec) {\n    this.setState({\n      modal: {\n        ...spec,\n        callback: (res) => {\n          this.setState({ modal: null }, () => {\n            if (spec.callback) spec.callback(res);\n          });\n        },\n      },\n    });\n  },\n  loader() {\n    const callback = () => {\n      this.setState({ loader: null });\n    };\n    this.setState({\n      loader: {\n        callback,\n      },\n    });\n    return callback;\n  },\n  render() {\n    console.log(\"Rendering Layout\");\n    var modal_component = {\n      delete: (props) => <DeleteModal {...props} />,\n    }[this.state.modal && this.state.modal.type];\n    modal_component = modal_component && modal_component(this.state.modal);\n    var props = {\n      ...this.props,\n      modal: this.modal,\n      loader: this.loader,\n    };\n    return (\n      <JSXZ in=\"orders\" sel=\".root\">\n        <Z sel=\".layout-container\">\n          <Child {...props} />\n          {/* <this.props.Child {...this.props} /> */}\n          <JSXZ\n            in=\"modal\"\n            sel=\".modal-wrapper\"\n            className={cn(classNameZ, { hidden: !modal_component })}\n          >\n            {modal_component}\n          </JSXZ>\n          <JSXZ\n            in=\"loader\"\n            sel=\".loader-container\"\n            className={cn(classNameZ, { hidden: !this.state.loader })}\n          >\n            <h1>LOADING...</h1>\n          </JSXZ>\n        </Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar Header = createReactClass({\n  getInitialState() {\n    return {\n      searchQuery: this.props.qs.q || \"\",\n    };\n  },\n  handleSearchSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const searchQuery = formData.get(\"search\") || \"*:*\";\n\n    GoTo(\"orders\", \"\", {\n      ...this.props.qs,\n      q: searchQuery,\n      page: 0, // Reset to first page when searching\n    });\n  },\n  render() {\n    console.log(\"Start header\");\n    return (\n      <JSXZ in=\"orders\" sel=\".header-container\">\n        <Z sel=\".heading-div-with-search\">\n          <ChildrenZ />\n          <JSXZ in=\"orders\" sel=\".search-div\">\n            <Z sel=\".search\" onSubmit={(e) => this.handleSearchSubmit(e)}></Z>\n          </JSXZ>\n        </Z>\n        <Z sel=\".body-div\">\n          <Child {...this.props} />\n        </Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar DeleteModal = createReactClass({\n  render() {\n    return (\n      <JSXZ in=\"modal\" sel=\".modal-content\">\n        <p>{this.props.title}</p>\n        <p>{this.props.message}</p>\n        <button\n          onClick={() => {\n            this.props.callback(true);\n          }}\n        >\n          Confirm\n        </button>\n        <button\n          onClick={() => {\n            this.props.callback(false);\n          }}\n        >\n          Cancel\n        </button>\n      </JSXZ>\n    );\n  },\n});\n\nvar Orders = createReactClass({\n  // `statics`` lets you define static methods, field that belong to the component itself, not its instances.\n  statics: {\n    remoteProps: [remoteProps.orders],\n  },\n  render() {\n    console.log(\"Start orders\");\n    console.dir(this.props, { depth: null });\n    console.dir(this.props.orders.value, { depth: null });\n    return (\n      <JSXZ in=\"orders\" sel=\".body-div\">\n        <Z sel=\".table\">\n          <JSXZ in=\"orders\" sel=\".table-header\">\n            <ChildrenZ />\n          </JSXZ>\n          <JSXZ in=\"orders\" sel=\".table-body\">\n            {this.props.orders.value.orders.value.map((order) => {\n              const custom = order.custom;\n              const billing_address = custom.billing_address;\n              const payment = custom.magento.payment;\n              return (\n                <JSXZ in=\"orders\" sel=\".table-row\" key={order.id}>\n                  <Z sel=\".div-body-table .id\">{order.remoteid}</Z>\n                  <Z sel=\".div-body-table .name\">{custom.customer.full_name}</Z>\n                  <Z sel=\".div-body-table .address\">\n                    {`${billing_address.street[0]}, \n                    ${billing_address.city}, \n                    ${billing_address.postcode}, \n                    ${billing_address.country_id}`}\n                  </Z>\n                  <Z sel=\".div-body-table .quantity\">{custom.items.length}</Z>\n                  <Z\n                    in=\"orders\"\n                    sel=\".div-body-table .button-detail\"\n                    onClick={() => {\n                      GoTo(\"order\", order.id);\n                    }}\n                  >\n                    \n                  </Z>\n                  <Z in=\"orders\" sel=\".div-body-table .button-pay\"></Z>\n                  <Z\n                    in=\"orders\"\n                    sel=\".div-block-6 .tag-status\"\n                    onClick={() => {\n                      console.log(`Processing payment for order ${order.id}`);\n                      this.props.loader();\n                      HTTP.put(`/api/order/${order.id}/payment`)\n                        .then((_) => this.props.loader())\n                        .then((response) => {\n                          console.log(\"Payment response:\", response);\n                          // reload(\"orders\");\n                          window.location.reload();\n                        })\n                        .catch((error) => {\n                          console.error(\"Payment error:\", error);\n                          alert(\n                            `Payment failed: you need to wait for the payment to be verified`\n                          );\n                        })\n                        .finally(() => {\n                          this.props.loader();\n                        });\n                    }}\n                  >\n                    {order.status.state ? `${order.status.state} =>` : \"error\"}\n                  </Z>\n                  <Z in=\"orders\" sel=\".div-block-6 .tag-delivery\">\n                    {payment.additional_information[1]}\n                  </Z>\n                  <Z\n                    in=\"orders\"\n                    sel=\".button-delete\"\n                    onClick={() => {\n                      console.log(\"Delete order\", order.id);\n                      this.props.modal({\n                        type: \"delete\",\n                        title: \"Order deletion\",\n                        message: `Are you sure you want to delete order ${order.id} ?`,\n                        callback: (value) => {\n                          if (value) {\n                            // Start the loader and HTTP request immediately\n                            const loader_callback = this.props.loader();\n                            HTTP.delete(`/api/order/${order.id}`)\n                              .then((_) => {\n                                // reload(\"orders\");\n                                window.location.reload();\n                                console.log(`Order ${order.id} deleted`);\n                              })\n                              .catch((err) => {\n                                alert(\"Deletion fails\");\n                              })\n                              .finally(() => {\n                                loader_callback();\n                              });\n                            return;\n                          }\n                          console.log(`Order ${order.id} deletion cancelled`);\n                        },\n                      });\n                    }}\n                  >\n                    delete\n                  </Z>\n                </JSXZ>\n              );\n            })}\n          </JSXZ>\n        </Z>\n        <ChildrenZ />\n        <Z\n          sel=\".back\"\n          onClick={() => {\n            console.log(\"Go back to orders\");\n            if (this.props.qs.page && Number(this.props.qs.page)) {\n              GoTo(\"orders\", \"\", {\n                ...this.props.qs,\n                page: Number(this.props.qs.page) - 1,\n              });\n            } else {\n              console.log(\"No previous page\");\n            }\n          }}\n        >\n          <ChildrenZ />\n        </Z>\n        <Z sel=\".curr\">{Number(this.props.qs.page || \"0\")}</Z>\n        <Z\n          sel=\".forward\"\n          onClick={() => {\n            console.log(\"next page\");\n            GoTo(\"orders\", \"\", {\n              ...this.props.qs,\n              page: Number(this.props.qs.page || \"0\") + 1,\n            });\n          }}\n        >\n          <ChildrenZ />\n        </Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar Order = createReactClass({\n  statics: {\n    remoteProps: [remoteProps.order],\n  },\n  render() {\n    console.log(\"Order props\");\n    const order = this.props.order.value;\n    console.dir(order, { depth: null });\n    const custom = order.custom;\n    return (\n      <JSXZ in=\"order-detail\" sel=\".body-div\">\n        <Z sel=\".order-id\">{order.remoteid}</Z>\n        <Z sel=\".name\">{order.custom.customer.full_name}</Z>\n        <Z sel=\".address\">\n          {`${custom.billing_address.street[0]}, \n          ${custom.billing_address.city}, \n          ${custom.billing_address.postcode}, \n          ${custom.billing_address.country_id}`}\n        </Z>\n        <Z sel=\".number\">{order.remoteid}</Z>\n        <Z sel=\".table\">\n          <JSXZ in=\"order-detail\" sel=\".order-row\"></JSXZ>\n          {custom.items.map((item) => {\n            return (\n              <JSXZ in=\"order-detail\" sel=\".order-row\" key={item.item_id}>\n                <Z sel=\".product-name\">{item.product_title}</Z>\n                <Z sel=\".product-quantity\">{item.quantity_to_fetch}</Z>\n                <Z sel=\".product-price\">{item.price}</Z>\n                <Z sel=\".product-total\">\n                  {item.price * item.quantity_to_fetch}\n                </Z>\n              </JSXZ>\n            );\n          })}\n        </Z>\n        <Z\n          sel=\".button-back\"\n          onClick={() => {\n            console.log(\"Go back to orders\");\n            history.back();\n          }}\n        ></Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar ErrorPage = createReactClass({\n  render() {\n    return (\n      <h1>\n        {this.props.message} {this.props.error}\n      </h1>\n    );\n  },\n});\n\nvar Link = createReactClass({\n  statics: {\n    renderFunc: null, //render function to use (differently set depending if we are server sided or client sided)\n    GoTo(route, params, query) {\n      // function used to change the path of our browser\n      var path = routes[route].path(params);\n      var qs = Qs.stringify(query);\n      var url = path + (qs == \"\" ? \"\" : \"?\" + qs);\n      history.pushState({}, \"\", url);\n      Link.onPathChange();\n    },\n    onPathChange() {\n      //Updated onPathChange\n      var path = location.pathname;\n      var qs = Qs.parse(location.search.slice(1));\n      var cookies = Cookie.parse(document.cookie);\n      inferPropsChange(path, qs, cookies).then(\n        //inferPropsChange download the new props if the url query changed as done previously\n        () => {\n          Link.renderFunc(<Child {...browserState} />); //if we are on server side we render\n        },\n        ({ http_code }) => {\n          Link.renderFunc(\n            <ErrorPage message={\"Not Found\"} code={http_code} />,\n            http_code\n          ); //idem\n        }\n      );\n    },\n    LinkTo: (route, params, query) => {\n      var qs = Qs.stringify(query);\n      return routes[route].path(params) + (qs == \"\" ? \"\" : \"?\" + qs);\n    },\n  },\n  onClick(ev) {\n    ev.preventDefault();\n    Link.GoTo(this.props.to, this.props.params, this.props.query);\n  },\n  render() {\n    //render a <Link> this way transform link into href path which allows on browser without javascript to work perfectly on the website\n    return (\n      <a\n        href={Link.LinkTo(this.props.to, this.props.params, this.props.query)}\n        onClick={this.onClick}\n      >\n        {this.props.children}\n      </a>\n    );\n  },\n});\n\n/**\n * `browserState` gonna be passed as parameter in `addRemoteProps`\n * `addRemoteProps` modifies it to add the data from the API.\n * the result of the API will be stored in a key with value of `remoteProp.prop`\n * [ref](https://github.com/vuthanhtung2412/formation-kbrw/blob/809acd75e0c1b3a2e0b1c66a9d7891ce9a36fe72/realisation/rest/web/app.js#L80-L80)\n */\nfunction addRemoteProps(props) {\n  return new Promise((resolve, reject) => {\n    console.log(\"Adding remote props\");\n    var remoteProps = Array.prototype.concat.apply(\n      [],\n      props.handlerPath\n        // Orders.remoteProps = remoteProps.orders\n        .map((c) => c.remoteProps) // -> [[remoteProps.orders], null]\n        .filter((p) => p) // -> [[remoteProps.orders]]\n    );\n    // Eventually, this produce (({qs: QueryString, ...pathParams: Record<string,string>}) => {url: string, prop: string})[]\n\n    remoteProps = remoteProps\n      .map((spec_fun) => spec_fun(props)) // [{url: '/api/orders', prop: 'orders'}]\n      .filter((specs) => specs) // get rid of undefined from remoteProps that don't match their dependencies\n      .filter(\n        (specs) => !props[specs.prop] || props[specs.prop].url != specs.url\n      ); // get rid of remoteProps already resolved with the url\n\n    // If now new remotePorps to fetch, we resolve the promise with the current props\n    if (remoteProps.length == 0) return resolve(props);\n\n    const promise_mapper = (spec) => {\n      // we want to keep the url in the value resolved by the promise here : spec = {url: '/api/orders', value: ORDERS, prop: 'orders'}\n      return HTTP.get(spec.url).then((res) => {\n        spec.value = res;\n        return spec;\n      });\n    };\n\n    const reducer = (acc, spec) => {\n      // spec = {url: '/api/orders', value: ORDERS, prop: 'user'}\n      acc[spec.prop] = { url: spec.url, value: spec.value };\n      return acc;\n    };\n\n    const promise_array = remoteProps.map(promise_mapper);\n    return Promise.all(promise_array)\n      .then((xs) => xs.reduce(reducer, props), reject)\n      .then((p) => {\n        // recursively call remote props, because props computed from\n        // previous queries can give the missing data/props necessary\n        // to define another query\n        return addRemoteProps(p).then(resolve, reject);\n      }, reject);\n  });\n}\n\nvar browserState;\nfunction onPathChange() {\n  var path = location.pathname;\n  var qs = Qs.parse(location.search.slice(1));\n  console.log(\"query string\");\n  console.dir(qs, { depth: null });\n  var cookies = Cookie.parse(document.cookie);\n\n  // browserState = {\n  //   ...browserState,\n  //   path: path,\n  //   qs: qs,\n  //   cookie: cookies,\n  // };\n\n  // var route;\n  // var routeProps;\n\n  // // We try to match the requested path to one our our routes\n  // for (var key in routes) {\n  //   routeProps = routes[key].match(path, qs);\n  //   if (routeProps) {\n  //     route = key;\n  //     console.log(\"routeProps\");\n  //     console.dir(routeProps, { depth: null });\n  //     break;\n  //   }\n  // }\n\n  // // We add the route name and the route Props to the global browserState\n  // browserState = {\n  //   ...browserState,\n  //   ...routeProps,\n  //   route: route,\n  // };\n  // console.log(\"browserState:\");\n  // console.dir(browserState, { depth: null });\n\n  // // If the path in the URL doesn't match with any of our routes, we render an Error component (we will have to create it later)\n  // if (!route)\n  //   return ReactDOM.render(\n  //     <ErrorPage message={\"Not Found\"} code={404} />,\n  //     document.getElementById(\"root\")\n  //   );\n\n  // addRemoteProps(browserState).then(\n  //   (props) => {\n  //     browserState = props;\n  //     // Log our new browserState\n  //     console.log(browserState);\n  //     // Render our components using our remote data\n  //     ReactDOM.render(\n  //       <Child {...browserState} />,\n  //       document.getElementById(\"root\")\n  //     );\n  //   },\n  //   (res) => {\n  //     ReactDOM.render(\n  //       <ErrorPage message={\"Shit happened\"} code={res.http_code} />,\n  //       document.getElementById(\"root\")\n  //     );\n  //   }\n  // );\n}\n\nfunction inferPropsChange(path, query, cookies) {\n  // the second part of the onPathChange function have been moved here\n  browserState = {\n    ...browserState,\n    path: path,\n    qs: query,\n    Link: Link,\n    Child: Child,\n  };\n\n  var route, routeProps;\n  for (var key in routes) {\n    routeProps = routes[key].match(path, query);\n    if (routeProps) {\n      route = key;\n      break;\n    }\n  }\n\n  if (!route) {\n    return new Promise((res, reject) => reject({ http_code: 404 }));\n  }\n  browserState = {\n    ...browserState,\n    ...routeProps,\n    route: route,\n  };\n\n  return addRemoteProps(browserState).then((props) => {\n    browserState = props;\n  });\n}\n\nfunction reload(remoteProp) {\n  console.log(`Reload remote prop ${remoteProp}`);\n  delete browserState[remoteProp];\n  addRemoteProps(browserState).then(\n    (props) => {\n      browserState = props;\n      // Log our new browserState\n      console.log(browserState);\n      // Render our components using our remote data\n      ReactDOM.render(\n        <Child {...browserState} />,\n        document.getElementById(\"root\")\n      );\n    },\n    (res) => {\n      ReactDOM.render(\n        <ErrorPage message={\"Something happened\"} code={res.http_code} />,\n        document.getElementById(\"root\")\n      );\n    }\n  );\n}\n\n// https://kbrw.slack.com/archives/C72EMMX1B/p1666688830060729\nexport default {\n  reaxt_server_render(params, render) {\n    // Force fresh fetch on server-side by clearing cached remote props\n    // This prevents stale data issues when server renders after client state changes\n    browserState = {\n      ...browserState,\n      orders: undefined, // Clear cached orders data\n      order: undefined, // Clear cached order data\n    };\n\n    inferPropsChange(params.path, params.query, params.cookies).then(\n      () => {\n        render(<Child {...browserState} />);\n      },\n      (err) => {\n        render(\n          <ErrorPage message={\"Not Found :\" + err.url} code={err.http_code} />,\n          err.http_code\n        );\n      }\n    );\n  },\n  reaxt_client_render(initialProps, render) {\n    browserState = initialProps;\n    Link.renderFunc = render;\n    window.addEventListener(\"popstate\", () => {\n      Link.onPathChange();\n    });\n    Link.onPathChange();\n  },\n};\n\n// window.addEventListener(\"popstate\", () => {\n//   onPathChange();\n// });\n","export default __webpack_public_path__ + \"index.html\";"],"names":["require","React","createReactClass","browserState","Qs","Cookie","localhost","XMLHttpRequest","HTTP","this","get","url","req","delete","post","data","put","method","Promise","resolve","reject","window","open","responseType","setRequestHeader","onload","status","responseText","JSON","parse","http_code","onerror","err","send","stringify","GoTo","route","params","query","console","log","qs","routes","path","history","pushState","location","pathname","search","slice","dir","depth","document","cookie","onPathChange","remoteProps","orders","props","q","prop","order","order_id","match","handlerPath","Layout","Header","Orders","r","RegExp","exec","Order","Child","displayName","render","ChildHandler","rest","createElement","_extends","cn","args","arguments","classes","i","arg","split","filter","c","map","key","Object","keys","k","join","getInitialState","modal","loader","spec","setState","callback","res","modal_component","DeleteModal","state","type","className","hidden","searchQuery","handleSearchSubmit","e","preventDefault","FormData","target","page","href","style","textDecoration","action","maxLength","name","placeholder","id","required","defaultValue","onSubmit","title","message","onClick","statics","value","custom","billing_address","payment","magento","remoteid","customer","full_name","street","city","postcode","country_id","items","length","in","then","_","response","reload","catch","error","alert","finally","additional_information","loader_callback","Number","item","item_id","product_title","quantity_to_fetch","price","back","ErrorPage","Link","renderFunc","inferPropsChange","code","LinkTo","ev","to","children","addRemoteProps","Array","prototype","concat","apply","p","spec_fun","specs","reducer","acc","promise_array","all","xs","reduce","cookies","routeProps","reaxt_server_render","undefined","reaxt_client_render","initialProps","addEventListener"],"sourceRoot":""}