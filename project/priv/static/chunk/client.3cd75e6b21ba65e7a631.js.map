{"version":3,"file":"chunk/client.3cd75e6b21ba65e7a631.js","mappings":"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","sources":["webpack://web/./components/app.js","webpack://web/./index.html"],"sourcesContent":["require(\"!!file-loader?name=[name].[ext]!../index.html\");\n/* required library for our React app */\nvar ReactDOM = require(\"react-dom\");\nvar React = require(\"react\");\nvar createReactClass = require(\"create-react-class\");\n\n/* required css for our application */\nrequire(\"../webflow/styles.css\");\nrequire(\"../webflow/modal-loading.css\");\n\nvar Qs = require(\"qs\");\nvar Cookie = require(\"cookie\");\n\nvar XMLHttpRequest = require(\"xhr2\");\nvar HTTP = new (function () {\n  this.get = (url) => this.req(\"GET\", url);\n  this.delete = (url) => this.req(\"DELETE\", url);\n  this.post = (url, data) => this.req(\"POST\", url, data);\n  this.put = (url, data) => this.req(\"PUT\", url, data);\n\n  this.req = (method, url, data) =>\n    new Promise((resolve, reject) => {\n      var req = new XMLHttpRequest();\n      req.open(method, url);\n      req.responseType = \"text\";\n      req.setRequestHeader(\"accept\", \"application/json,*/*;0.8\");\n      req.setRequestHeader(\"content-type\", \"application/json\");\n      req.onload = () => {\n        if (req.status >= 200 && req.status < 300) {\n          resolve(req.responseText && JSON.parse(req.responseText));\n        } else {\n          reject({ http_code: req.status });\n        }\n      };\n      req.onerror = (err) => {\n        reject({ http_code: req.status });\n      };\n      req.send(data && JSON.stringify(data));\n    });\n})();\n\n// Helper function to change page\nvar GoTo = (route, params, query) => {\n  console.log(\"GoTo\");\n  var qs = Qs.stringify(query);\n  var url = routes[route].path(params) + (qs == \"\" ? \"\" : \"?\" + qs);\n  console.log(\"Changing URL to\", url);\n  history.pushState({}, \"\", url);\n  onPathChange();\n};\n\n/**\n * `remoteProps` are list of functions that map the props from `BrowserState.handlerPath` indicated [here](https://github.com/vuthanhtung2412/formation-kbrw/blob/809acd75e0c1b3a2e0b1c66a9d7891ce9a36fe72/realisation/rest/web/app.js#L208-L211)\n * to `{url : string, prop: string}` which can be used to fetch data\n * with [`HTTP`](https://github.com/vuthanhtung2412/formation-kbrw/blob/main/realisation/rest/web/app.js#L18-L18)\n */\nvar remoteProps = {\n  // Example of how to implement auth mechanism\n  // user: (props)=>{\n  //   return {\n  //     url: \"/api/me\",\n  //     prop: \"user\"\n  //   }\n  // },\n\n  // props = {qs: QueryString, ...pathParams: Record<string,string>}\n  orders: (props) => {\n    // Example of how to implement auth mechanism\n    // if(!props.user)\n    //   return\n\n    // qs stands for query string\n    var qs = {\n      ...props.qs,\n      // user_id: props.user.value.id\n    };\n\n    // Make sure search query is included\n    if (props.qs.q) {\n      qs.q = props.qs.q;\n    }\n\n    var query = Qs.stringify(qs);\n    return {\n      url: \"/api/orders\" + (query == \"\" ? \"\" : \"?\" + query),\n      prop: \"orders\",\n    };\n  },\n  order: (props) => {\n    return {\n      url: \"/api/order/\" + props.order_id,\n      prop: \"order\",\n    };\n  },\n};\n\nvar routes = {\n  orders: {\n    path: (params) => {\n      return \"/\";\n    },\n    match: (path, qs) => {\n      return path == \"/\" && { handlerPath: [Layout, Header, Orders] }; // Note that we use the \"&&\" expression to simulate a IF statement\n    },\n  },\n  order: {\n    path: (params) => {\n      return \"/order/\" + params;\n    },\n    match: (path, qs) => {\n      var r = new RegExp(\"/order/([^/]*)$\").exec(path);\n      return r && { handlerPath: [Layout, Header, Order], order_id: r[1] }; // Note that we use the \"&&\" expression to simulate a IF statement\n    },\n  },\n};\n\nvar Child = createReactClass({\n  render() {\n    var [ChildHandler, ...rest] = this.props.handlerPath;\n    return <ChildHandler {...this.props} handlerPath={rest} />;\n  },\n});\n\nvar cn = function () {\n  var args = arguments,\n    classes = {};\n  for (var i in args) {\n    var arg = args[i];\n    if (!arg) continue;\n    if (\"string\" === typeof arg || \"number\" === typeof arg) {\n      arg\n        .split(\" \")\n        .filter((c) => c != \"\")\n        .map((c) => {\n          classes[c] = true;\n        });\n    } else if (\"object\" === typeof arg) {\n      for (var key in arg) classes[key] = arg[key];\n    }\n  }\n  return Object.keys(classes)\n    .map((k) => (classes[k] && k) || \"\")\n    .join(\" \");\n};\n\nvar Layout = createReactClass({\n  getInitialState: function () {\n    return {\n      modal: null,\n      loader: null,\n    };\n  },\n  modal(spec) {\n    this.setState({\n      modal: {\n        ...spec,\n        callback: (res) => {\n          this.setState({ modal: null }, () => {\n            if (spec.callback) spec.callback(res);\n          });\n        },\n      },\n    });\n  },\n  loader() {\n    const callback = () => {\n      this.setState({ loader: null });\n    };\n    this.setState({\n      loader: {\n        callback,\n      },\n    });\n    return callback;\n  },\n  render() {\n    console.log(\"Rendering Layout\");\n    var modal_component = {\n      delete: (props) => <DeleteModal {...props} />,\n    }[this.state.modal && this.state.modal.type];\n    modal_component = modal_component && modal_component(this.state.modal);\n    var props = {\n      ...this.props,\n      modal: this.modal,\n      loader: this.loader,\n    };\n    return (\n      <JSXZ in=\"orders\" sel=\".root\">\n        <Z sel=\".layout-container\">\n          <Child {...props} />\n          {/* <this.props.Child {...this.props} /> */}\n          <JSXZ\n            in=\"modal\"\n            sel=\".modal-wrapper\"\n            className={cn(classNameZ, { hidden: !modal_component })}\n          >\n            {modal_component}\n          </JSXZ>\n          <JSXZ\n            in=\"loader\"\n            sel=\".loader-container\"\n            className={cn(classNameZ, { hidden: !this.state.loader })}\n          >\n            <h1>LOADING...</h1>\n          </JSXZ>\n        </Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar Header = createReactClass({\n  getInitialState() {\n    return {\n      searchQuery: this.props.qs.q || \"\",\n    };\n  },\n  handleSearchSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const searchQuery = formData.get(\"search\") || \"*:*\";\n\n    GoTo(\"orders\", \"\", {\n      ...this.props.qs,\n      q: searchQuery,\n      page: 0, // Reset to first page when searching\n    });\n  },\n  render() {\n    console.log(\"Start header\");\n    return (\n      <JSXZ in=\"orders\" sel=\".header-container\">\n        <Z sel=\".heading-div-with-search\">\n          <ChildrenZ />\n          <JSXZ in=\"orders\" sel=\".search-div\">\n            <Z sel=\".search\" onSubmit={(e) => this.handleSearchSubmit(e)}></Z>\n          </JSXZ>\n        </Z>\n        <Z sel=\".body-div\">\n          <Child {...this.props} />\n        </Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar DeleteModal = createReactClass({\n  render() {\n    return (\n      <JSXZ in=\"modal\" sel=\".modal-content\">\n        <p>{this.props.title}</p>\n        <p>{this.props.message}</p>\n        <button\n          onClick={() => {\n            this.props.callback(true);\n          }}\n        >\n          Confirm\n        </button>\n        <button\n          onClick={() => {\n            this.props.callback(false);\n          }}\n        >\n          Cancel\n        </button>\n      </JSXZ>\n    );\n  },\n});\n\nvar Orders = createReactClass({\n  // `statics`` lets you define static methods, field that belong to the component itself, not its instances.\n  statics: {\n    remoteProps: [remoteProps.orders],\n  },\n  render() {\n    console.log(\"Start orders\");\n    console.dir(this.props, { depth: null });\n    console.dir(this.props.orders.value, { depth: null });\n    return (\n      <JSXZ in=\"orders\" sel=\".body-div\">\n        <Z sel=\".table\">\n          <JSXZ in=\"orders\" sel=\".table-header\">\n            <ChildrenZ />\n          </JSXZ>\n          <JSXZ in=\"orders\" sel=\".table-body\">\n            {this.props.orders.value.orders.value.map((order) => {\n              const custom = order.custom;\n              const billing_address = custom.billing_address;\n              const payment = custom.magento.payment;\n              return (\n                <JSXZ in=\"orders\" sel=\".table-row\" key={order.id}>\n                  <Z sel=\".div-body-table .id\">{order.remoteid}</Z>\n                  <Z sel=\".div-body-table .name\">{custom.customer.full_name}</Z>\n                  <Z sel=\".div-body-table .address\">\n                    {`${billing_address.street[0]}, \n                    ${billing_address.city}, \n                    ${billing_address.postcode}, \n                    ${billing_address.country_id}`}\n                  </Z>\n                  <Z sel=\".div-body-table .quantity\">{custom.items.length}</Z>\n                  <Z\n                    in=\"orders\"\n                    sel=\".div-body-table .button-detail\"\n                    onClick={() => {\n                      GoTo(\"order\", order.id);\n                    }}\n                  >\n                    ÔÅ°\n                  </Z>\n                  <Z in=\"orders\" sel=\".div-body-table .button-pay\"></Z>\n                  <Z in=\"orders\" sel=\".div-block-6 .tag-status\">\n                    {payment.account_status ? payment.account_status : \"Null\"}\n                  </Z>\n                  <Z in=\"orders\" sel=\".div-block-6 .tag-delivery\">\n                    {payment.additional_information[1]}\n                  </Z>\n                  <Z\n                    in=\"orders\"\n                    sel=\".button-delete\"\n                    onClick={() => {\n                      console.log(\"Delete order\", order.id);\n                      this.props.modal({\n                        type: \"delete\",\n                        title: \"Order deletion\",\n                        message: `Are you sure you want to delete order ${order.id} ?`,\n                        callback: (value) => {\n                          if (value) {\n                            // Start the loader and HTTP request immediately\n                            const loader_callback = this.props.loader();\n                            HTTP.delete(`/api/order/${order.id}`)\n                              .then((_) => {\n                                reload(\"orders\");\n                                console.log(`Order ${order.id} deleted`);\n                              })\n                              .catch((err) => {\n                                alert(\"Deletion fails\");\n                              })\n                              .finally(() => {\n                                loader_callback();\n                              });\n                            return;\n                          }\n                          console.log(`Order ${order.id} deletion cancelled`);\n                        },\n                      });\n                    }}\n                  >\n                    delete\n                  </Z>\n                </JSXZ>\n              );\n            })}\n          </JSXZ>\n        </Z>\n        <ChildrenZ />\n        <Z\n          sel=\".back\"\n          onClick={() => {\n            console.log(\"Go back to orders\");\n            if (this.props.qs.page && Number(this.props.qs.page)) {\n              GoTo(\"orders\", \"\", {\n                ...this.props.qs,\n                page: Number(this.props.qs.page) - 1,\n              });\n            } else {\n              console.log(\"No previous page\");\n            }\n          }}\n        >\n          <ChildrenZ />\n        </Z>\n        <Z sel=\".curr\">{Number(this.props.qs.page || \"0\")}</Z>\n        <Z\n          sel=\".forward\"\n          onClick={() => {\n            console.log(\"next page\");\n            GoTo(\"orders\", \"\", {\n              ...this.props.qs,\n              page: Number(this.props.qs.page || \"0\") + 1,\n            });\n          }}\n        >\n          <ChildrenZ />\n        </Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar Order = createReactClass({\n  statics: {\n    remoteProps: [remoteProps.order],\n  },\n  render() {\n    console.log(\"Order props\");\n    const order = this.props.order.value;\n    console.dir(order, { depth: null });\n    const custom = order.custom;\n    return (\n      <JSXZ in=\"order-detail\" sel=\".body-div\">\n        <Z sel=\".order-id\">{order.remoteid}</Z>\n        <Z sel=\".name\">{order.custom.customer.full_name}</Z>\n        <Z sel=\".address\">\n          {`${custom.billing_address.street[0]}, \n          ${custom.billing_address.city}, \n          ${custom.billing_address.postcode}, \n          ${custom.billing_address.country_id}`}\n        </Z>\n        <Z sel=\".number\">{order.remoteid}</Z>\n        <Z sel=\".table\">\n          <JSXZ in=\"order-detail\" sel=\".order-row\"></JSXZ>\n          {custom.items.map((item) => {\n            return (\n              <JSXZ in=\"order-detail\" sel=\".order-row\" key={item.item_id}>\n                <Z sel=\".product-name\">{item.product_title}</Z>\n                <Z sel=\".product-quantity\">{item.quantity_to_fetch}</Z>\n                <Z sel=\".product-price\">{item.price}</Z>\n                <Z sel=\".product-total\">\n                  {item.price * item.quantity_to_fetch}\n                </Z>\n              </JSXZ>\n            );\n          })}\n        </Z>\n        <Z\n          sel=\".button-back\"\n          onClick={() => {\n            console.log(\"Go back to orders\");\n            history.back();\n          }}\n        ></Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar ErrorPage = createReactClass({\n  render() {\n    return (\n      <h1>\n        {this.props.message} {this.props.error}\n      </h1>\n    );\n  },\n});\n\n/**\n * `browserState` gonna be passed as parameter in `addRemoteProps`\n * `addRemoteProps` modifies it to add the data from the API.\n * the result of the API will be stored in a key with value of `remoteProp.prop`\n * [ref](https://github.com/vuthanhtung2412/formation-kbrw/blob/809acd75e0c1b3a2e0b1c66a9d7891ce9a36fe72/realisation/rest/web/app.js#L80-L80)\n */\nfunction addRemoteProps(props) {\n  return new Promise((resolve, reject) => {\n    console.log(\"Adding remote props\");\n    var remoteProps = Array.prototype.concat.apply(\n      [],\n      props.handlerPath\n        // Orders.remoteProps = remoteProps.orders\n        .map((c) => c.remoteProps) // -> [[remoteProps.orders], null]\n        .filter((p) => p) // -> [[remoteProps.orders]]\n    );\n    // Eventually, this produce (({qs: QueryString, ...pathParams: Record<string,string>}) => {url: string, prop: string})[]\n\n    remoteProps = remoteProps\n      .map((spec_fun) => spec_fun(props)) // [{url: '/api/orders', prop: 'orders'}]\n      .filter((specs) => specs) // get rid of undefined from remoteProps that don't match their dependencies\n      .filter(\n        (specs) => !props[specs.prop] || props[specs.prop].url != specs.url\n      ); // get rid of remoteProps already resolved with the url\n\n    // If now new remotePorps to fetch, we resolve the promise with the current props\n    if (remoteProps.length == 0) return resolve(props);\n\n    const promise_mapper = (spec) => {\n      // we want to keep the url in the value resolved by the promise here : spec = {url: '/api/orders', value: ORDERS, prop: 'orders'}\n      return HTTP.get(spec.url).then((res) => {\n        spec.value = res;\n        return spec;\n      });\n    };\n\n    const reducer = (acc, spec) => {\n      // spec = {url: '/api/orders', value: ORDERS, prop: 'user'}\n      acc[spec.prop] = { url: spec.url, value: spec.value };\n      return acc;\n    };\n\n    const promise_array = remoteProps.map(promise_mapper);\n    return Promise.all(promise_array)\n      .then((xs) => xs.reduce(reducer, props), reject)\n      .then((p) => {\n        // recursively call remote props, because props computed from\n        // previous queries can give the missing data/props necessary\n        // to define another query\n        return addRemoteProps(p).then(resolve, reject);\n      }, reject);\n  });\n}\n\nvar browserState = {};\nfunction onPathChange() {\n  var path = location.pathname;\n  var qs = Qs.parse(location.search.slice(1));\n  console.log(\"query string\");\n  console.dir(qs, { depth: null });\n  var cookies = Cookie.parse(document.cookie);\n\n  browserState = {\n    ...browserState,\n    path: path,\n    qs: qs,\n    cookie: cookies,\n  };\n\n  var route;\n\n  // We try to match the requested path to one our our routes\n  for (var key in routes) {\n    routeProps = routes[key].match(path, qs);\n    if (routeProps) {\n      route = key;\n      console.log(\"routeProps\");\n      console.dir(routeProps, { depth: null });\n      break;\n    }\n  }\n\n  // We add the route name and the route Props to the global browserState\n  browserState = {\n    ...browserState,\n    ...routeProps,\n    route: route,\n  };\n  console.log(\"browserState:\");\n  console.dir(browserState, { depth: null });\n\n  // If the path in the URL doesn't match with any of our routes, we render an Error component (we will have to create it later)\n  if (!route)\n    return ReactDOM.render(\n      <ErrorPage message={\"Not Found\"} code={404} />,\n      document.getElementById(\"root\")\n    );\n\n  addRemoteProps(browserState).then(\n    (props) => {\n      browserState = props;\n      // Log our new browserState\n      console.log(browserState);\n      // Render our components using our remote data\n      ReactDOM.render(\n        <Child {...browserState} />,\n        document.getElementById(\"root\")\n      );\n    },\n    (res) => {\n      ReactDOM.render(\n        <ErrorPage message={\"Shit happened\"} code={res.http_code} />,\n        document.getElementById(\"root\")\n      );\n    }\n  );\n}\n\nfunction reload(remoteProp) {\n  console.log(`Reload remote prop ${remoteProp}`);\n  delete browserState[remoteProp];\n  addRemoteProps(browserState).then(\n    (props) => {\n      browserState = props;\n      // Log our new browserState\n      console.log(browserState);\n      // Render our components using our remote data\n      ReactDOM.render(\n        <Child {...browserState} />,\n        document.getElementById(\"root\")\n      );\n    },\n    (res) => {\n      ReactDOM.render(\n        <ErrorPage message={\"Something happened\"} code={res.http_code} />,\n        document.getElementById(\"root\")\n      );\n    }\n  );\n}\n\nwindow.addEventListener(\"popstate\", () => {\n  onPathChange();\n});\nonPathChange();\n","export default __webpack_public_path__ + \"index.html\";"],"names":["require","ReactDOM","React","createReactClass","Qs","Cookie","XMLHttpRequest","HTTP","this","get","url","req","delete","post","data","put","method","Promise","resolve","reject","open","responseType","setRequestHeader","onload","status","responseText","JSON","parse","http_code","onerror","err","send","stringify","GoTo","route","params","query","console","log","qs","routes","path","history","pushState","onPathChange","remoteProps","orders","props","q","prop","order","order_id","match","handlerPath","Layout","Header","Orders","r","RegExp","exec","Order","Child","displayName","render","ChildHandler","rest","createElement","_extends","cn","args","arguments","classes","i","arg","split","filter","c","map","key","Object","keys","k","join","getInitialState","modal","loader","spec","setState","callback","res","modal_component","DeleteModal","state","type","className","hidden","searchQuery","handleSearchSubmit","e","preventDefault","FormData","target","page","href","style","textDecoration","action","maxLength","name","placeholder","id","required","defaultValue","onSubmit","title","message","onClick","statics","dir","depth","value","custom","billing_address","payment","magento","remoteid","customer","full_name","street","city","postcode","country_id","items","length","in","account_status","additional_information","loader_callback","then","_","remoteProp","browserState","addRemoteProps","document","getElementById","ErrorPage","code","catch","alert","finally","Number","item","item_id","product_title","quantity_to_fetch","price","back","error","Array","prototype","concat","apply","p","spec_fun","specs","reducer","acc","promise_array","all","xs","reduce","location","pathname","search","slice","cookies","cookie","routeProps","window","addEventListener"],"sourceRoot":""}