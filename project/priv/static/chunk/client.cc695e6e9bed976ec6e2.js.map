{"version":3,"file":"chunk/client.cc695e6e9bed976ec6e2.js","mappings":"4UAAAA,EAAQ,KAER,IAAIC,EAAWD,EAAQ,KACnBE,EAAQF,EAAQ,KAChBG,EAAmBH,EAAQ,KAG/BA,EAAQ,KACRA,EAAQ,KAER,IAAII,EAAKJ,EAAQ,KACbK,EAASL,EAAQ,KAEjBM,EAAYN,EAAAA,KAAAA,UACZO,EAAiBP,EAAQ,KACzBQ,EAAO,IAAK,WACdC,KAAKC,IAAOC,GAAQF,KAAKG,IAAI,MAAOD,GACpCF,KAAKI,OAAUF,GAAQF,KAAKG,IAAI,SAAUD,GAC1CF,KAAKK,KAAO,CAACH,EAAKI,IAASN,KAAKG,IAAI,OAAQD,EAAKI,GACjDN,KAAKO,IAAM,CAACL,EAAKI,IAASN,KAAKG,IAAI,MAAOD,EAAKI,GAE/CN,KAAKG,IAAM,CAACK,EAAQN,EAAKI,IACvB,IAAIG,QAAQ,CAACC,EAASC,KACpB,IAAIR,EAAM,IAAIL,EACdI,EAAwB,oBAAXU,OAAyBV,EAAML,EAAYK,EACxDC,EAAIU,KAAKL,EAAQN,GACjBC,EAAIW,aAAe,OACnBX,EAAIY,iBAAiB,SAAU,4BAC/BZ,EAAIY,iBAAiB,eAAgB,oBACrCZ,EAAIa,OAAS,KACPb,EAAIc,QAAU,KAAOd,EAAIc,OAAS,IACpCP,EAAQP,EAAIe,cAAgBC,KAAKC,MAAMjB,EAAIe,eAE3CP,EAAO,CAAEU,UAAWlB,EAAIc,UAG5Bd,EAAImB,QAAWC,IACbZ,EAAO,CAAEU,UAAWlB,EAAIc,UAE1Bd,EAAIqB,KAAKlB,GAAQa,KAAKM,UAAUnB,KAEtC,EAGIoB,EAAOA,CAACC,EAAOC,EAAQC,KACzBC,QAAQC,IAAI,QACZ,IAAIC,EAAKrC,EAAG8B,UAAUI,GAClB3B,EAAM+B,EAAON,GAAOO,KAAKN,IAAiB,IAANI,EAAW,GAAK,IAAMA,GAC9DF,QAAQC,IAAI,kBAAmB7B,GAC/BiC,QAAQC,UAAU,CAAC,EAAG,GAAIlC,GAC1BmC,KAQEC,EAAc,CAUhBC,OAASC,IAMP,IAAIR,EAAK,IACJQ,EAAMR,IAKPQ,EAAMR,GAAGS,IACXT,EAAGS,EAAID,EAAMR,GAAGS,GAGlB,IAAIZ,EAAQlC,EAAG8B,UAAUO,GACzB,MAAO,CACL9B,IAAK,eAA0B,IAAT2B,EAAc,GAAK,IAAMA,GAC/Ca,KAAM,WAGVC,MAAQH,IACC,CACLtC,IAAK,cAAgBsC,EAAMI,SAC3BF,KAAM,WAKRT,EAAS,CACXM,OAAQ,CACNL,KAAON,GACE,IAETiB,MAAOA,CAACX,EAAMF,IACG,KAARE,GAAe,CAAEY,YAAa,CAACC,EAAQC,EAAQC,KAG1DN,MAAO,CACLT,KAAON,GACE,UAAYA,EAErBiB,MAAOA,CAACX,EAAMF,KACZ,IAAIkB,EAAI,IAAIC,OAAO,mBAAmBC,KAAKlB,GAC3C,OAAOgB,GAAK,CAAEJ,YAAa,CAACC,EAAQC,EAAQK,GAAQT,SAAUM,EAAE,OAKlEI,EAAQ5D,EAAiB,CAAA6D,YAAA,QAC3BC,MAAAA,GACE,IAAKC,KAAiBC,GAAQ1D,KAAKwC,MAAMM,YACzC,OAAOrD,EAAAkE,cAACF,EAAYG,EAAA,GAAK5D,KAAKwC,MAAK,CAAEM,YAAaY,IACpD,IAGEG,EAAK,WACP,IAAIC,EAAOC,UACTC,EAAU,CAAC,EACb,IAAK,IAAIC,KAAKH,EAAM,CAClB,IAAII,EAAMJ,EAAKG,GACf,GAAKC,EACL,GAAI,iBAAoBA,GAAO,iBAAoBA,EACjDA,EACGC,MAAM,KACNC,OAAQC,GAAW,IAALA,GACdC,IAAKD,IACJL,EAAQK,IAAK,SAEZ,GAAI,iBAAoBH,EAC7B,IAAK,IAAIK,KAAOL,EAAKF,EAAQO,GAAOL,EAAIK,EAE5C,CACA,OAAOC,OAAOC,KAAKT,GAChBM,IAAKI,GAAOV,EAAQU,IAAMA,GAAM,IAChCC,KAAK,IACV,EAEI5B,EAASrD,EAAiB,CAAA6D,YAAA,SAC5BqB,gBAAiB,WACf,MAAO,CACLC,MAAO,KACPC,OAAQ,KAEZ,EACAD,KAAAA,CAAME,GACJ/E,KAAKgF,SAAS,CACZH,MAAO,IACFE,EACHE,SAAWC,IACTlF,KAAKgF,SAAS,CAAEH,MAAO,MAAQ,KACzBE,EAAKE,UAAUF,EAAKE,SAASC,QAK3C,EACAJ,MAAAA,GACE,MAAMG,EAAWA,KACfjF,KAAKgF,SAAS,CAAEF,OAAQ,QAO1B,OALA9E,KAAKgF,SAAS,CACZF,OAAQ,CACNG,cAGGA,CACT,EACAzB,MAAAA,GACE1B,QAAQC,IAAI,oBACZ,IAAIoD,EAAkB,CACpB/E,OAASoC,GAAU/C,EAAAkE,cAACyB,EAAgB5C,IACpCxC,KAAKqF,MAAMR,OAAS7E,KAAKqF,MAAMR,MAAMS,MACvCH,EAAkBA,GAAmBA,EAAgBnF,KAAKqF,MAAMR,OAChE,IAAIrC,EAAQ,IACPxC,KAAKwC,MACRqC,MAAO7E,KAAK6E,MACZC,OAAQ9E,KAAK8E,QAEf,OAAArF,EAAAkE,cAAA,OAAA4B,UAAA,QAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,oBAGM9F,EAAAkE,cAACL,EAAUd,GAAS/C,EAAAkE,cAAA,OAKlB4B,UAAW1B,EAAG,gBAAY,CAAE2B,QAASL,KAEpCA,GAAe1F,EAAAkE,cAAA,OAKhB4B,UAAW1B,EAAG,mBAAY,CAAE2B,QAASxF,KAAKqF,MAAMP,UAEhDrF,EAAAkE,cAAA,UAAI,gBAKd,IAGEX,EAAStD,EAAiB,CAAA6D,YAAA,SAC5BqB,eAAAA,GACE,MAAO,CACLa,YAAazF,KAAKwC,MAAMR,GAAGS,GAAK,GAEpC,EACAiD,kBAAAA,CAAmBC,GACjBA,EAAEC,iBACF,MACMH,EADW,IAAII,SAASF,EAAEG,QACH7F,IAAI,WAAa,MAE9CyB,EAAK,SAAU,GAAI,IACd1B,KAAKwC,MAAMR,GACdS,EAAGgD,EACHM,KAAM,GAEV,EACAvC,MAAAA,GAEE,OADA1B,QAAQC,IAAI,gBACZtC,EAAAkE,cAAA,OAAA4B,UAAA,oBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,2BAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,eAAA9F,EAAAkE,cAAA,KAAAqC,KAAA,IAAAC,MAAA,CAAAC,eAAA,SAAAzG,EAAAkE,cAAA,MAAA4B,UAAA,sBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,eAAA9F,EAAAkE,cAAA,KAAAqC,KAAA,IAAAT,UAAA,sDAAA9F,EAAAkE,cAAA,KAAAqC,KAAA,IAAAT,UAAA,+CAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,cAAA9F,EAAAkE,cAAA,QAAAwC,OAAA,IAAAZ,UAAA,iBAAA9F,EAAAkE,cAAA,SAAA4B,UAAA,wBAAAa,UAAA,IAAAC,KAAA,SAAAC,YAAA,kCAAAhB,KAAA,SAAAiB,GAAA,SAAAC,SAAA,KAAA/G,EAAAkE,cAAA,SAAA2B,KAAA,SAAAC,UAAA,yBAAAkB,aAAA,aAAAhH,EAAAkE,cAAA,OAAA4B,UAAA,cAAA9F,EAAAkE,cAAA,QAAAwC,OAAA,IAAAZ,UAAA,gBAKyBmB,SAAWf,GAAM3F,KAAK0F,mBAAmBC,OAAGlG,EAAAkE,cAAA,OAAA4B,UAAA,YAI/D9F,EAAAkE,cAACL,EAAUtD,KAAKwC,QAIxB,IAGE4C,EAAc1F,EAAiB,CAAA6D,YAAA,cACjCC,MAAAA,GACE,OAAA/D,EAAAkE,cAAA,OAAA4B,UAAA,iBAEI9F,EAAAkE,cAAA,SAAI3D,KAAKwC,MAAMmE,OACflH,EAAAkE,cAAA,SAAI3D,KAAKwC,MAAMoE,SACfnH,EAAAkE,cAAA,UACEkD,QAASA,KACP7G,KAAKwC,MAAMyC,UAAS,KAEvB,WAGDxF,EAAAkE,cAAA,UACEkD,QAASA,KACP7G,KAAKwC,MAAMyC,UAAS,KAEvB,UAKP,IAGEhC,EAASvD,EAAiB,CAAA6D,YAAA,SAE5BuD,QAAS,CACPxE,YAAa,CAACA,EAAYC,SAE5BiB,MAAAA,GAIE,OAHA1B,QAAQC,IAAI,gBACZD,QAAQiF,IAAI/G,KAAKwC,MAAO,CAAEwE,MAAO,OACjClF,QAAQiF,IAAI/G,KAAKwC,MAAMD,OAAO0E,MAAO,CAAED,MAAO,OAC9CvH,EAAAkE,cAAA,OAAA4B,UAAA,YAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,SAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,gBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,uCAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,iCAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,gCAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,iCAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,+BAAA9F,EAAAkE,cAAA,OAAA4C,GAAA,wDAAAhB,UAAA,4BAAA9F,EAAAkE,cAAA,OAAA4C,GAAA,wDAAAhB,UAAA,iCAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,cAOSvF,KAAKwC,MAAMD,OAAO0E,MAAM1E,OAAO0E,MAAM3C,IAAK3B,IACzC,MAAMuE,EAASvE,EAAMuE,OACfC,EAAkBD,EAAOC,gBACzBC,EAAUF,EAAOG,QAAQD,QAC/B,OAAA3H,EAAAkE,cAAA,OAAA4B,UAAA,YACqChB,IAAK5B,EAAM4D,IAAG9G,EAAAkE,cAAA,OAAA4B,UAAA,kBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,sBACjB5C,EAAM2E,WAAQ7H,EAAAkE,cAAA,OAAA4B,UAAA,kBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,wBACZ2B,EAAOK,SAASC,YAAS/H,EAAAkE,cAAA,OAAA4B,UAAA,kBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,2BAEtD,GAAG4B,EAAgBM,OAAO,6BACzBN,EAAgBO,+BAChBP,EAAgBQ,mCAChBR,EAAgBS,eAAYnI,EAAAkE,cAAA,OAAA4B,UAAA,kBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,qBAEI2B,EAAOW,MAAMC,SAAMrI,EAAAkE,cAAA,OAAA4B,UAAA,kBAAA9F,EAAAkE,cAAA,KAAAqC,KAAA,IAAAT,UAAA,sCAErDwC,GAAG,SAEHlB,QAASA,KACPnF,EAAK,QAASiB,EAAM4D,MAEvB,MAED9G,EAAAkE,cAAA,OAAA4B,UAAA,kBAAA9F,EAAAkE,cAAA,KAAAqC,KAAA,IAAAT,UAAA,mCACGwC,GAAG,WAAQtI,EAAAkE,cAAA,OAAA4B,UAAA,eAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,2BAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,wBACXwC,GAAG,UACHX,EAAQY,eAAiBZ,EAAQY,eAAiB,SAAMvI,EAAAkE,cAAA,OAAA4B,UAAA,eAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,+BAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,wBAExDwC,GAAG,UACHX,EAAQa,uBAAuB,MAAExI,EAAAkE,cAAA,KAAAqC,KAAA,IAAAT,UAAA,yBAGlCwC,GAAG,SAEHlB,QAASA,KACP/E,QAAQC,IAAI,eAAgBY,EAAM4D,IAClCvG,KAAKwC,MAAMqC,MAAM,CACfS,KAAM,SACNqB,MAAO,iBACPC,QAAS,yCAAyCjE,EAAM4D,OACxDtB,SAAWgC,IACT,GAAIA,EAAO,CAET,MAAMiB,EAAkBlI,KAAKwC,MAAMsC,SAYnC,YAXA/E,EAAKK,OAAO,cAAcuC,EAAM4D,MAC7B4B,KAAMC,IA8TrC,IAAgBC,IA7TuB,SA8TrCvG,QAAQC,IAAI,sBAAsBsG,YAC3BC,EAAaD,GACpBE,EAAeD,GAAcH,KAC1B3F,IACC8F,EAAe9F,EAEfV,QAAQC,IAAIuG,GAEZ9I,EAASgE,OACP/D,EAAAkE,cAACL,EAAUgF,GACXE,SAASC,eAAe,UAG3BvD,IACC1F,EAASgE,OACP/D,EAAAkE,cAAC+E,EAAS,CAAC9B,QAAS,qBAAsB+B,KAAMzD,EAAI7D,YACpDmH,SAASC,eAAe,WA7UA3G,QAAQC,IAAI,SAASY,EAAM4D,gBAE5BqC,MAAOrH,IACNsH,MAAM,oBAEPC,QAAQ,KACPZ,KAGN,CACApG,QAAQC,IAAI,SAASY,EAAM4D,8BAIlC,eAKL9G,EAAAkE,cAAA,OAAA4B,UAAA,wBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,yBAAA9F,EAAAkE,cAAA,KAAAqC,KAAA,IAAAT,UAAA,2BAMJsB,QAASA,KACP/E,QAAQC,IAAI,qBACR/B,KAAKwC,MAAMR,GAAG+D,MAAQgD,OAAO/I,KAAKwC,MAAMR,GAAG+D,MAC7CrE,EAAK,SAAU,GAAI,IACd1B,KAAKwC,MAAMR,GACd+D,KAAMgD,OAAO/I,KAAKwC,MAAMR,GAAG+D,MAAQ,IAGrCjE,QAAQC,IAAI,sBAEd,MAAAtC,EAAAkE,cAAA,OAAA4B,UAAA,yBAAA9F,EAAAkE,cAAA,KAAAqC,KAAA,IAAAT,UAAA,mCAIYwD,OAAO/I,KAAKwC,MAAMR,GAAG+D,MAAQ,OAAItG,EAAAkE,cAAA,OAAA4B,UAAA,4BAAA9F,EAAAkE,cAAA,KAAAqC,KAAA,IAAAT,UAAA,8BAG/CsB,QAASA,KACP/E,QAAQC,IAAI,aACZL,EAAK,SAAU,GAAI,IACd1B,KAAKwC,MAAMR,GACd+D,KAAMgD,OAAO/I,KAAKwC,MAAMR,GAAG+D,MAAQ,KAAO,MAE5C,OAMV,IAGE1C,EAAQ3D,EAAiB,CAAA6D,YAAA,QAC3BuD,QAAS,CACPxE,YAAa,CAACA,EAAYK,QAE5Ba,MAAAA,GACE1B,QAAQC,IAAI,eACZ,MAAMY,EAAQ3C,KAAKwC,MAAMG,MAAMsE,MAC/BnF,QAAQiF,IAAIpE,EAAO,CAAEqE,MAAO,OAC5B,MAAME,EAASvE,EAAMuE,OACrB,OAAAzH,EAAAkE,cAAA,OAAA4B,UAAA,YAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,yBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,qBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,WAAA9F,EAAAkE,cAAA,UAAA4B,UAAA,uCAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,WAAA9F,EAAAkE,cAAA,UAAA4B,UAAA,sCAEwB5C,EAAM2E,YAAQ7H,EAAAkE,cAAA,WAAAlE,EAAAkE,cAAA,UAAA4B,UAAA,4CAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,qBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,wBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,uBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,oCAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,wBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,kCAClB5C,EAAMuE,OAAOK,SAASC,YAAS/H,EAAAkE,cAAA,OAAA4B,UAAA,wBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,uBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,qCAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,wBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,qCAE5C,GAAG2B,EAAOC,gBAAgBM,OAAO,mBAChCP,EAAOC,gBAAgBO,qBACvBR,EAAOC,gBAAgBQ,yBACvBT,EAAOC,gBAAgBS,eAAYnI,EAAAkE,cAAA,OAAA4B,UAAA,wBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,uBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,4CAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,wBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,oCAErB5C,EAAM2E,aAAQ7H,EAAAkE,cAAA,OAAA4B,UAAA,SAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,aAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,kBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,yCAAA9F,EAAAkE,cAAA,aAAAlE,EAAAkE,cAAA,OAAA4C,GAAA,uDAAAhB,UAAA,kBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,mCAAA9F,EAAAkE,cAAA,OAAA4C,GAAA,uDAAAhB,UAAA,kBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,mCAAA9F,EAAAkE,cAAA,OAAA4C,GAAA,uDAAAhB,UAAA,kBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,oCAG7B2B,EAAOW,MAAMvD,IAAK0E,GACjBvJ,EAAAkE,cAAA,OAAA4B,UAAA,YAC2ChB,IAAKyE,EAAKC,SAAQxJ,EAAAkE,cAAA,OAAA4B,UAAA,kBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,gCACjCyD,EAAKE,gBAAazJ,EAAAkE,cAAA,OAAA4C,GAAA,uDAAAhB,UAAA,kBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,6BACdyD,EAAKG,oBAAiB1J,EAAAkE,cAAA,OAAA4C,GAAA,uDAAAhB,UAAA,kBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,0BACzByD,EAAKI,QAAK3J,EAAAkE,cAAA,OAAA4C,GAAA,uDAAAhB,UAAA,kBAAA9F,EAAAkE,cAAA,OAAA4B,UAAA,0BAEhCyD,EAAKI,MAAQJ,EAAKG,uBAIzB1J,EAAAkE,cAAA,OAAA4B,UAAA,eAAA9F,EAAAkE,cAAA,KAAAqC,KAAA,IAAAT,UAAA,uBAIFsB,QAASA,KACP/E,QAAQC,IAAI,qBACZI,QAAQkH,WAKlB,IAGEX,EAAYhJ,EAAiB,CAAA6D,YAAA,YAC/BC,MAAAA,GACE,OACE/D,EAAAkE,cAAA,UACG3D,KAAKwC,MAAMoE,QAAQ,IAAE5G,KAAKwC,MAAM8G,MAGvC,IAGEC,EAAO7J,EAAiB,CAAA6D,YAAA,OAC1BuD,QAAS,CACP0C,WAAY,KACZ9H,IAAAA,CAAKC,EAAOC,EAAQC,GAElB,IAAIK,EAAOD,EAAON,GAAOO,KAAKN,GAC1BI,EAAKrC,EAAG8B,UAAUI,GAClB3B,EAAMgC,GAAc,IAANF,EAAW,GAAK,IAAMA,GACxCG,QAAQC,UAAU,CAAC,EAAG,GAAIlC,GAC1BqJ,EAAKlH,cACP,EACAA,YAAAA,GAKEoH,EAHWC,SAASC,SACXhK,EAAGyB,MAAMsI,SAASE,OAAOC,MAAM,IAC1BjK,EAAOwB,MAAMoH,SAASsB,SACA3B,KAElC,KACEoB,EAAKC,WAAW/J,EAAAkE,cAACL,EAAUgF,KAE7B,EAAGjH,gBACDkI,EAAKC,WACH/J,EAAAkE,cAAC+E,EAAS,CAAC9B,QAAS,YAAa+B,KAAMtH,IACvCA,IAIR,EACA0I,OAAQA,CAACpI,EAAOC,EAAQC,KACtB,IAAIG,EAAKrC,EAAG8B,UAAUI,GACtB,OAAOI,EAAON,GAAOO,KAAKN,IAAiB,IAANI,EAAW,GAAK,IAAMA,IAE7D6E,OAAAA,CAAQmD,GACNA,EAAGpE,iBACH2D,EAAK7H,KAAK1B,KAAKwC,MAAMyH,GAAIjK,KAAKwC,MAAMZ,OAAQ5B,KAAKwC,MAAMX,MACzD,EACA2B,MAAAA,GAEE,OACE/D,EAAAkE,cAAA,KACEqC,KAAMuD,EAAKQ,OAAO/J,KAAKwC,MAAMyH,GAAIjK,KAAKwC,MAAMZ,OAAQ5B,KAAKwC,MAAMX,OAC/DgF,QAAS7G,KAAK6G,SAEb7G,KAAKwC,MAAM0H,SAGlB,KAUJ,SAAS3B,EAAe/F,GACtB,OAAO,IAAI/B,QAAQ,CAACC,EAASC,KAC3BmB,QAAQC,IAAI,uBACZ,IAAIO,EAAc6H,MAAMC,UAAUC,OAAOC,MACvC,GACA9H,EAAMM,YAEHwB,IAAKD,GAAMA,EAAE/B,aACb8B,OAAQmG,GAAMA,IAYnB,GAA0B,IAR1BjI,EAAcA,EACXgC,IAAKkG,GAAaA,EAAShI,IAC3B4B,OAAQqG,GAAUA,GAClBrG,OACEqG,IAAWjI,EAAMiI,EAAM/H,OAASF,EAAMiI,EAAM/H,MAAMxC,KAAOuK,EAAMvK,MAIpD4H,OAAa,OAAOpH,EAAQ8B,GAE5C,MAQMkI,EAAUA,CAACC,EAAK5F,KAEpB4F,EAAI5F,EAAKrC,MAAQ,CAAExC,IAAK6E,EAAK7E,IAAK+G,MAAOlC,EAAKkC,OACvC0D,GAGHC,EAAgBtI,EAAYgC,IAdVS,GAEfhF,EAAKE,IAAI8E,EAAK7E,KAAKiI,KAAMjD,IAC9BH,EAAKkC,MAAQ/B,EACNH,KAWX,OAAOtE,QAAQoK,IAAID,GAChBzC,KAAM2C,GAAOA,EAAGC,OAAOL,EAASlI,GAAQ7B,GACxCwH,KAAMoC,GAIEhC,EAAegC,GAAGpC,KAAKzH,EAASC,GACtCA,IAET,CAEA,IAAI2H,EAAe,CAAC,EACpB,SAASjG,IACP,IAAIH,EAAOwH,SAASC,SAChB3H,EAAKrC,EAAGyB,MAAMsI,SAASE,OAAOC,MAAM,IACxC/H,QAAQC,IAAI,gBACZD,QAAQiF,IAAI/E,EAAI,CAAEgF,MAAO,OACzB,IASIrF,EATAqJ,EAAUpL,EAAOwB,MAAMoH,SAASsB,QAYpC,IAAK,IAAIvF,KAVT+D,EAAe,IACVA,EACHpG,KAAMA,EACNF,GAAIA,EACJ8H,OAAQkB,GAMM/I,EAEd,GADAgJ,WAAahJ,EAAOsC,GAAK1B,MAAMX,EAAMF,GACjCiJ,WAAY,CACdtJ,EAAQ4C,EACRzC,QAAQC,IAAI,cACZD,QAAQiF,IAAIkE,WAAY,CAAEjE,MAAO,OACjC,KACF,CAaF,GATAsB,EAAe,IACVA,KACA2C,WACHtJ,MAAOA,GAETG,QAAQC,IAAI,iBACZD,QAAQiF,IAAIuB,EAAc,CAAEtB,MAAO,QAG9BrF,EACH,OAAOnC,EAASgE,OACd/D,EAAAkE,cAAC+E,EAAS,CAAC9B,QAAS,YAAa+B,KAAM,MACvCH,SAASC,eAAe,SAG5BF,EAAeD,GAAcH,KAC1B3F,IACC8F,EAAe9F,EAEfV,QAAQC,IAAIuG,GAEZ9I,EAASgE,OACP/D,EAAAkE,cAACL,EAAUgF,GACXE,SAASC,eAAe,UAG3BvD,IACC1F,EAASgE,OACP/D,EAAAkE,cAAC+E,EAAS,CAAC9B,QAAS,gBAAiB+B,KAAMzD,EAAI7D,YAC/CmH,SAASC,eAAe,UAIhC,CAEA,SAASgB,EAAiBvH,EAAML,EAAOmJ,GAUrC,IAAIrJ,EAAOsJ,EACX,IAAK,IAAI1G,KATT+D,EAAe,IACVA,EACHpG,KAAMA,EACNF,GAAIH,EACJ0H,KAAMA,EACNjG,MAAOA,GAIOrB,EAEd,GADAgJ,EAAahJ,EAAOsC,GAAK1B,MAAMX,EAAML,GACrB,CACdF,EAAQ4C,EACR,KACF,CAGF,OAAK5C,EASE4G,EANPD,EAAe,IACVA,KACA2C,EACHtJ,MAAOA,IAG2BwG,KAAM3F,IACxC8F,EAAe9F,IATR,IAAI/B,QAAQ,CAACyE,EAAKvE,IAAWA,EAAO,CAAEU,UAAW,MAW5D,CAyBA,SACE6J,mBAAAA,CAAoBtJ,EAAQ4B,GAC1BiG,EAAiB7H,EAAOM,KAAMN,EAAOC,MAAOD,EAAOoJ,SAAS7C,KAC1D,KACE3E,EAAO/D,EAAAkE,cAACL,EAAUgF,KAEnB/G,IACCiC,EACE/D,EAAAkE,cAAC+E,EAAS,CAAC9B,QAAS,cAAgBrF,EAAIrB,IAAKyI,KAAMpH,EAAIF,YACvDE,EAAIF,YAIZ,EACA8J,mBAAAA,CAAoBC,EAAc5H,GAChC8E,EAAe8C,EACf7B,EAAKC,WAAahG,EAClB5C,OAAOyK,iBAAiB,WAAY,KAClC9B,EAAKlH,iBAEPkH,EAAKlH,cACP,GAGFzB,OAAOyK,iBAAiB,WAAY,KAClChJ,K,8CC5rBF,QAAe,IAA0B,Y","sources":["webpack://web/./components/app.js","webpack://web/./index.html"],"sourcesContent":["require(\"!!file-loader?name=[name].[ext]!../index.html\");\n/* required library for our React app */\nvar ReactDOM = require(\"react-dom\");\nvar React = require(\"react\");\nvar createReactClass = require(\"create-react-class\");\n\n/* required css for our application */\nrequire(\"../webflow/styles.css\");\nrequire(\"../webflow/modal-loading.css\");\n\nvar Qs = require(\"qs\");\nvar Cookie = require(\"cookie\");\n\nvar localhost = require(\"reaxt/config\").localhost;\nvar XMLHttpRequest = require(\"xhr2\");\nvar HTTP = new (function () {\n  this.get = (url) => this.req(\"GET\", url);\n  this.delete = (url) => this.req(\"DELETE\", url);\n  this.post = (url, data) => this.req(\"POST\", url, data);\n  this.put = (url, data) => this.req(\"PUT\", url, data);\n\n  this.req = (method, url, data) =>\n    new Promise((resolve, reject) => {\n      var req = new XMLHttpRequest();\n      url = typeof window !== \"undefined\" ? url : localhost + url;\n      req.open(method, url);\n      req.responseType = \"text\";\n      req.setRequestHeader(\"accept\", \"application/json,*/*;0.8\");\n      req.setRequestHeader(\"content-type\", \"application/json\");\n      req.onload = () => {\n        if (req.status >= 200 && req.status < 300) {\n          resolve(req.responseText && JSON.parse(req.responseText));\n        } else {\n          reject({ http_code: req.status });\n        }\n      };\n      req.onerror = (err) => {\n        reject({ http_code: req.status });\n      };\n      req.send(data && JSON.stringify(data));\n    });\n})();\n\n// Helper function to change page\nvar GoTo = (route, params, query) => {\n  console.log(\"GoTo\");\n  var qs = Qs.stringify(query);\n  var url = routes[route].path(params) + (qs == \"\" ? \"\" : \"?\" + qs);\n  console.log(\"Changing URL to\", url);\n  history.pushState({}, \"\", url);\n  onPathChange();\n};\n\n/**\n * `remoteProps` are list of functions that map the props from `BrowserState.handlerPath` indicated [here](https://github.com/vuthanhtung2412/formation-kbrw/blob/809acd75e0c1b3a2e0b1c66a9d7891ce9a36fe72/realisation/rest/web/app.js#L208-L211)\n * to `{url : string, prop: string}` which can be used to fetch data\n * with [`HTTP`](https://github.com/vuthanhtung2412/formation-kbrw/blob/main/realisation/rest/web/app.js#L18-L18)\n */\nvar remoteProps = {\n  // Example of how to implement auth mechanism\n  // user: (props)=>{\n  //   return {\n  //     url: \"/api/me\",\n  //     prop: \"user\"\n  //   }\n  // },\n\n  // props = {qs: QueryString, ...pathParams: Record<string,string>}\n  orders: (props) => {\n    // Example of how to implement auth mechanism\n    // if(!props.user)\n    //   return\n\n    // qs stands for query string\n    var qs = {\n      ...props.qs,\n      // user_id: props.user.value.id\n    };\n\n    // Make sure search query is included\n    if (props.qs.q) {\n      qs.q = props.qs.q;\n    }\n\n    var query = Qs.stringify(qs);\n    return {\n      url: \"/api/orders\" + (query == \"\" ? \"\" : \"?\" + query),\n      prop: \"orders\",\n    };\n  },\n  order: (props) => {\n    return {\n      url: \"/api/order/\" + props.order_id,\n      prop: \"order\",\n    };\n  },\n};\n\nvar routes = {\n  orders: {\n    path: (params) => {\n      return \"/\";\n    },\n    match: (path, qs) => {\n      return path == \"/\" && { handlerPath: [Layout, Header, Orders] }; // Note that we use the \"&&\" expression to simulate a IF statement\n    },\n  },\n  order: {\n    path: (params) => {\n      return \"/order/\" + params;\n    },\n    match: (path, qs) => {\n      var r = new RegExp(\"/order/([^/]*)$\").exec(path);\n      return r && { handlerPath: [Layout, Header, Order], order_id: r[1] }; // Note that we use the \"&&\" expression to simulate a IF statement\n    },\n  },\n};\n\nvar Child = createReactClass({\n  render() {\n    var [ChildHandler, ...rest] = this.props.handlerPath;\n    return <ChildHandler {...this.props} handlerPath={rest} />;\n  },\n});\n\nvar cn = function () {\n  var args = arguments,\n    classes = {};\n  for (var i in args) {\n    var arg = args[i];\n    if (!arg) continue;\n    if (\"string\" === typeof arg || \"number\" === typeof arg) {\n      arg\n        .split(\" \")\n        .filter((c) => c != \"\")\n        .map((c) => {\n          classes[c] = true;\n        });\n    } else if (\"object\" === typeof arg) {\n      for (var key in arg) classes[key] = arg[key];\n    }\n  }\n  return Object.keys(classes)\n    .map((k) => (classes[k] && k) || \"\")\n    .join(\" \");\n};\n\nvar Layout = createReactClass({\n  getInitialState: function () {\n    return {\n      modal: null,\n      loader: null,\n    };\n  },\n  modal(spec) {\n    this.setState({\n      modal: {\n        ...spec,\n        callback: (res) => {\n          this.setState({ modal: null }, () => {\n            if (spec.callback) spec.callback(res);\n          });\n        },\n      },\n    });\n  },\n  loader() {\n    const callback = () => {\n      this.setState({ loader: null });\n    };\n    this.setState({\n      loader: {\n        callback,\n      },\n    });\n    return callback;\n  },\n  render() {\n    console.log(\"Rendering Layout\");\n    var modal_component = {\n      delete: (props) => <DeleteModal {...props} />,\n    }[this.state.modal && this.state.modal.type];\n    modal_component = modal_component && modal_component(this.state.modal);\n    var props = {\n      ...this.props,\n      modal: this.modal,\n      loader: this.loader,\n    };\n    return (\n      <JSXZ in=\"orders\" sel=\".root\">\n        <Z sel=\".layout-container\">\n          <Child {...props} />\n          {/* <this.props.Child {...this.props} /> */}\n          <JSXZ\n            in=\"modal\"\n            sel=\".modal-wrapper\"\n            className={cn(classNameZ, { hidden: !modal_component })}\n          >\n            {modal_component}\n          </JSXZ>\n          <JSXZ\n            in=\"loader\"\n            sel=\".loader-container\"\n            className={cn(classNameZ, { hidden: !this.state.loader })}\n          >\n            <h1>LOADING...</h1>\n          </JSXZ>\n        </Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar Header = createReactClass({\n  getInitialState() {\n    return {\n      searchQuery: this.props.qs.q || \"\",\n    };\n  },\n  handleSearchSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const searchQuery = formData.get(\"search\") || \"*:*\";\n\n    GoTo(\"orders\", \"\", {\n      ...this.props.qs,\n      q: searchQuery,\n      page: 0, // Reset to first page when searching\n    });\n  },\n  render() {\n    console.log(\"Start header\");\n    return (\n      <JSXZ in=\"orders\" sel=\".header-container\">\n        <Z sel=\".heading-div-with-search\">\n          <ChildrenZ />\n          <JSXZ in=\"orders\" sel=\".search-div\">\n            <Z sel=\".search\" onSubmit={(e) => this.handleSearchSubmit(e)}></Z>\n          </JSXZ>\n        </Z>\n        <Z sel=\".body-div\">\n          <Child {...this.props} />\n        </Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar DeleteModal = createReactClass({\n  render() {\n    return (\n      <JSXZ in=\"modal\" sel=\".modal-content\">\n        <p>{this.props.title}</p>\n        <p>{this.props.message}</p>\n        <button\n          onClick={() => {\n            this.props.callback(true);\n          }}\n        >\n          Confirm\n        </button>\n        <button\n          onClick={() => {\n            this.props.callback(false);\n          }}\n        >\n          Cancel\n        </button>\n      </JSXZ>\n    );\n  },\n});\n\nvar Orders = createReactClass({\n  // `statics`` lets you define static methods, field that belong to the component itself, not its instances.\n  statics: {\n    remoteProps: [remoteProps.orders],\n  },\n  render() {\n    console.log(\"Start orders\");\n    console.dir(this.props, { depth: null });\n    console.dir(this.props.orders.value, { depth: null });\n    return (\n      <JSXZ in=\"orders\" sel=\".body-div\">\n        <Z sel=\".table\">\n          <JSXZ in=\"orders\" sel=\".table-header\">\n            <ChildrenZ />\n          </JSXZ>\n          <JSXZ in=\"orders\" sel=\".table-body\">\n            {this.props.orders.value.orders.value.map((order) => {\n              const custom = order.custom;\n              const billing_address = custom.billing_address;\n              const payment = custom.magento.payment;\n              return (\n                <JSXZ in=\"orders\" sel=\".table-row\" key={order.id}>\n                  <Z sel=\".div-body-table .id\">{order.remoteid}</Z>\n                  <Z sel=\".div-body-table .name\">{custom.customer.full_name}</Z>\n                  <Z sel=\".div-body-table .address\">\n                    {`${billing_address.street[0]}, \n                    ${billing_address.city}, \n                    ${billing_address.postcode}, \n                    ${billing_address.country_id}`}\n                  </Z>\n                  <Z sel=\".div-body-table .quantity\">{custom.items.length}</Z>\n                  <Z\n                    in=\"orders\"\n                    sel=\".div-body-table .button-detail\"\n                    onClick={() => {\n                      GoTo(\"order\", order.id);\n                    }}\n                  >\n                    ÔÅ°\n                  </Z>\n                  <Z in=\"orders\" sel=\".div-body-table .button-pay\"></Z>\n                  <Z in=\"orders\" sel=\".div-block-6 .tag-status\">\n                    {payment.account_status ? payment.account_status : \"Null\"}\n                  </Z>\n                  <Z in=\"orders\" sel=\".div-block-6 .tag-delivery\">\n                    {payment.additional_information[1]}\n                  </Z>\n                  <Z\n                    in=\"orders\"\n                    sel=\".button-delete\"\n                    onClick={() => {\n                      console.log(\"Delete order\", order.id);\n                      this.props.modal({\n                        type: \"delete\",\n                        title: \"Order deletion\",\n                        message: `Are you sure you want to delete order ${order.id} ?`,\n                        callback: (value) => {\n                          if (value) {\n                            // Start the loader and HTTP request immediately\n                            const loader_callback = this.props.loader();\n                            HTTP.delete(`/api/order/${order.id}`)\n                              .then((_) => {\n                                reload(\"orders\");\n                                console.log(`Order ${order.id} deleted`);\n                              })\n                              .catch((err) => {\n                                alert(\"Deletion fails\");\n                              })\n                              .finally(() => {\n                                loader_callback();\n                              });\n                            return;\n                          }\n                          console.log(`Order ${order.id} deletion cancelled`);\n                        },\n                      });\n                    }}\n                  >\n                    delete\n                  </Z>\n                </JSXZ>\n              );\n            })}\n          </JSXZ>\n        </Z>\n        <ChildrenZ />\n        <Z\n          sel=\".back\"\n          onClick={() => {\n            console.log(\"Go back to orders\");\n            if (this.props.qs.page && Number(this.props.qs.page)) {\n              GoTo(\"orders\", \"\", {\n                ...this.props.qs,\n                page: Number(this.props.qs.page) - 1,\n              });\n            } else {\n              console.log(\"No previous page\");\n            }\n          }}\n        >\n          <ChildrenZ />\n        </Z>\n        <Z sel=\".curr\">{Number(this.props.qs.page || \"0\")}</Z>\n        <Z\n          sel=\".forward\"\n          onClick={() => {\n            console.log(\"next page\");\n            GoTo(\"orders\", \"\", {\n              ...this.props.qs,\n              page: Number(this.props.qs.page || \"0\") + 1,\n            });\n          }}\n        >\n          <ChildrenZ />\n        </Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar Order = createReactClass({\n  statics: {\n    remoteProps: [remoteProps.order],\n  },\n  render() {\n    console.log(\"Order props\");\n    const order = this.props.order.value;\n    console.dir(order, { depth: null });\n    const custom = order.custom;\n    return (\n      <JSXZ in=\"order-detail\" sel=\".body-div\">\n        <Z sel=\".order-id\">{order.remoteid}</Z>\n        <Z sel=\".name\">{order.custom.customer.full_name}</Z>\n        <Z sel=\".address\">\n          {`${custom.billing_address.street[0]}, \n          ${custom.billing_address.city}, \n          ${custom.billing_address.postcode}, \n          ${custom.billing_address.country_id}`}\n        </Z>\n        <Z sel=\".number\">{order.remoteid}</Z>\n        <Z sel=\".table\">\n          <JSXZ in=\"order-detail\" sel=\".order-row\"></JSXZ>\n          {custom.items.map((item) => {\n            return (\n              <JSXZ in=\"order-detail\" sel=\".order-row\" key={item.item_id}>\n                <Z sel=\".product-name\">{item.product_title}</Z>\n                <Z sel=\".product-quantity\">{item.quantity_to_fetch}</Z>\n                <Z sel=\".product-price\">{item.price}</Z>\n                <Z sel=\".product-total\">\n                  {item.price * item.quantity_to_fetch}\n                </Z>\n              </JSXZ>\n            );\n          })}\n        </Z>\n        <Z\n          sel=\".button-back\"\n          onClick={() => {\n            console.log(\"Go back to orders\");\n            history.back();\n          }}\n        ></Z>\n      </JSXZ>\n    );\n  },\n});\n\nvar ErrorPage = createReactClass({\n  render() {\n    return (\n      <h1>\n        {this.props.message} {this.props.error}\n      </h1>\n    );\n  },\n});\n\nvar Link = createReactClass({\n  statics: {\n    renderFunc: null, //render function to use (differently set depending if we are server sided or client sided)\n    GoTo(route, params, query) {\n      // function used to change the path of our browser\n      var path = routes[route].path(params);\n      var qs = Qs.stringify(query);\n      var url = path + (qs == \"\" ? \"\" : \"?\" + qs);\n      history.pushState({}, \"\", url);\n      Link.onPathChange();\n    },\n    onPathChange() {\n      //Updated onPathChange\n      var path = location.pathname;\n      var qs = Qs.parse(location.search.slice(1));\n      var cookies = Cookie.parse(document.cookie);\n      inferPropsChange(path, qs, cookies).then(\n        //inferPropsChange download the new props if the url query changed as done previously\n        () => {\n          Link.renderFunc(<Child {...browserState} />); //if we are on server side we render\n        },\n        ({ http_code }) => {\n          Link.renderFunc(\n            <ErrorPage message={\"Not Found\"} code={http_code} />,\n            http_code\n          ); //idem\n        }\n      );\n    },\n    LinkTo: (route, params, query) => {\n      var qs = Qs.stringify(query);\n      return routes[route].path(params) + (qs == \"\" ? \"\" : \"?\" + qs);\n    },\n    onClick(ev) {\n      ev.preventDefault();\n      Link.GoTo(this.props.to, this.props.params, this.props.query);\n    },\n    render() {\n      //render a <Link> this way transform link into href path which allows on browser without javascript to work perfectly on the website\n      return (\n        <a\n          href={Link.LinkTo(this.props.to, this.props.params, this.props.query)}\n          onClick={this.onClick}\n        >\n          {this.props.children}\n        </a>\n      );\n    },\n  },\n});\n\n/**\n * `browserState` gonna be passed as parameter in `addRemoteProps`\n * `addRemoteProps` modifies it to add the data from the API.\n * the result of the API will be stored in a key with value of `remoteProp.prop`\n * [ref](https://github.com/vuthanhtung2412/formation-kbrw/blob/809acd75e0c1b3a2e0b1c66a9d7891ce9a36fe72/realisation/rest/web/app.js#L80-L80)\n */\nfunction addRemoteProps(props) {\n  return new Promise((resolve, reject) => {\n    console.log(\"Adding remote props\");\n    var remoteProps = Array.prototype.concat.apply(\n      [],\n      props.handlerPath\n        // Orders.remoteProps = remoteProps.orders\n        .map((c) => c.remoteProps) // -> [[remoteProps.orders], null]\n        .filter((p) => p) // -> [[remoteProps.orders]]\n    );\n    // Eventually, this produce (({qs: QueryString, ...pathParams: Record<string,string>}) => {url: string, prop: string})[]\n\n    remoteProps = remoteProps\n      .map((spec_fun) => spec_fun(props)) // [{url: '/api/orders', prop: 'orders'}]\n      .filter((specs) => specs) // get rid of undefined from remoteProps that don't match their dependencies\n      .filter(\n        (specs) => !props[specs.prop] || props[specs.prop].url != specs.url\n      ); // get rid of remoteProps already resolved with the url\n\n    // If now new remotePorps to fetch, we resolve the promise with the current props\n    if (remoteProps.length == 0) return resolve(props);\n\n    const promise_mapper = (spec) => {\n      // we want to keep the url in the value resolved by the promise here : spec = {url: '/api/orders', value: ORDERS, prop: 'orders'}\n      return HTTP.get(spec.url).then((res) => {\n        spec.value = res;\n        return spec;\n      });\n    };\n\n    const reducer = (acc, spec) => {\n      // spec = {url: '/api/orders', value: ORDERS, prop: 'user'}\n      acc[spec.prop] = { url: spec.url, value: spec.value };\n      return acc;\n    };\n\n    const promise_array = remoteProps.map(promise_mapper);\n    return Promise.all(promise_array)\n      .then((xs) => xs.reduce(reducer, props), reject)\n      .then((p) => {\n        // recursively call remote props, because props computed from\n        // previous queries can give the missing data/props necessary\n        // to define another query\n        return addRemoteProps(p).then(resolve, reject);\n      }, reject);\n  });\n}\n\nvar browserState = {};\nfunction onPathChange() {\n  var path = location.pathname;\n  var qs = Qs.parse(location.search.slice(1));\n  console.log(\"query string\");\n  console.dir(qs, { depth: null });\n  var cookies = Cookie.parse(document.cookie);\n\n  browserState = {\n    ...browserState,\n    path: path,\n    qs: qs,\n    cookie: cookies,\n  };\n\n  var route;\n\n  // We try to match the requested path to one our our routes\n  for (var key in routes) {\n    routeProps = routes[key].match(path, qs);\n    if (routeProps) {\n      route = key;\n      console.log(\"routeProps\");\n      console.dir(routeProps, { depth: null });\n      break;\n    }\n  }\n\n  // We add the route name and the route Props to the global browserState\n  browserState = {\n    ...browserState,\n    ...routeProps,\n    route: route,\n  };\n  console.log(\"browserState:\");\n  console.dir(browserState, { depth: null });\n\n  // If the path in the URL doesn't match with any of our routes, we render an Error component (we will have to create it later)\n  if (!route)\n    return ReactDOM.render(\n      <ErrorPage message={\"Not Found\"} code={404} />,\n      document.getElementById(\"root\")\n    );\n\n  addRemoteProps(browserState).then(\n    (props) => {\n      browserState = props;\n      // Log our new browserState\n      console.log(browserState);\n      // Render our components using our remote data\n      ReactDOM.render(\n        <Child {...browserState} />,\n        document.getElementById(\"root\")\n      );\n    },\n    (res) => {\n      ReactDOM.render(\n        <ErrorPage message={\"Shit happened\"} code={res.http_code} />,\n        document.getElementById(\"root\")\n      );\n    }\n  );\n}\n\nfunction inferPropsChange(path, query, cookies) {\n  // the second part of the onPathChange function have been moved here\n  browserState = {\n    ...browserState,\n    path: path,\n    qs: query,\n    Link: Link,\n    Child: Child,\n  };\n\n  var route, routeProps;\n  for (var key in routes) {\n    routeProps = routes[key].match(path, query);\n    if (routeProps) {\n      route = key;\n      break;\n    }\n  }\n\n  if (!route) {\n    return new Promise((res, reject) => reject({ http_code: 404 }));\n  }\n  browserState = {\n    ...browserState,\n    ...routeProps,\n    route: route,\n  };\n\n  return addRemoteProps(browserState).then((props) => {\n    browserState = props;\n  });\n}\n\nfunction reload(remoteProp) {\n  console.log(`Reload remote prop ${remoteProp}`);\n  delete browserState[remoteProp];\n  addRemoteProps(browserState).then(\n    (props) => {\n      browserState = props;\n      // Log our new browserState\n      console.log(browserState);\n      // Render our components using our remote data\n      ReactDOM.render(\n        <Child {...browserState} />,\n        document.getElementById(\"root\")\n      );\n    },\n    (res) => {\n      ReactDOM.render(\n        <ErrorPage message={\"Something happened\"} code={res.http_code} />,\n        document.getElementById(\"root\")\n      );\n    }\n  );\n}\n\nexport default {\n  reaxt_server_render(params, render) {\n    inferPropsChange(params.path, params.query, params.cookies).then(\n      () => {\n        render(<Child {...browserState} />);\n      },\n      (err) => {\n        render(\n          <ErrorPage message={\"Not Found :\" + err.url} code={err.http_code} />,\n          err.http_code\n        );\n      }\n    );\n  },\n  reaxt_client_render(initialProps, render) {\n    browserState = initialProps;\n    Link.renderFunc = render;\n    window.addEventListener(\"popstate\", () => {\n      Link.onPathChange();\n    });\n    Link.onPathChange();\n  },\n};\n\nwindow.addEventListener(\"popstate\", () => {\n  onPathChange();\n});\n","export default __webpack_public_path__ + \"index.html\";"],"names":["require","ReactDOM","React","createReactClass","Qs","Cookie","localhost","XMLHttpRequest","HTTP","this","get","url","req","delete","post","data","put","method","Promise","resolve","reject","window","open","responseType","setRequestHeader","onload","status","responseText","JSON","parse","http_code","onerror","err","send","stringify","GoTo","route","params","query","console","log","qs","routes","path","history","pushState","onPathChange","remoteProps","orders","props","q","prop","order","order_id","match","handlerPath","Layout","Header","Orders","r","RegExp","exec","Order","Child","displayName","render","ChildHandler","rest","createElement","_extends","cn","args","arguments","classes","i","arg","split","filter","c","map","key","Object","keys","k","join","getInitialState","modal","loader","spec","setState","callback","res","modal_component","DeleteModal","state","type","className","hidden","searchQuery","handleSearchSubmit","e","preventDefault","FormData","target","page","href","style","textDecoration","action","maxLength","name","placeholder","id","required","defaultValue","onSubmit","title","message","onClick","statics","dir","depth","value","custom","billing_address","payment","magento","remoteid","customer","full_name","street","city","postcode","country_id","items","length","in","account_status","additional_information","loader_callback","then","_","remoteProp","browserState","addRemoteProps","document","getElementById","ErrorPage","code","catch","alert","finally","Number","item","item_id","product_title","quantity_to_fetch","price","back","error","Link","renderFunc","inferPropsChange","location","pathname","search","slice","cookie","LinkTo","ev","to","children","Array","prototype","concat","apply","p","spec_fun","specs","reducer","acc","promise_array","all","xs","reduce","cookies","routeProps","reaxt_server_render","reaxt_client_render","initialProps","addEventListener"],"sourceRoot":""}